(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[99],{2372:function(e,t,s){Promise.resolve().then(s.bind(s,9187))},9187:function(e,t,s){"use strict";s.r(t);var r=s(7437),l=s(2265),a=s(5322),i=s(1728);t.default=()=>{let{tasks:e,updateTask:t,currentUser:s}=(0,a.q)(),[n,d]=(0,l.useState)("all"),[o,c]=(0,l.useState)("all"),[m,p]=(0,l.useState)([]),[x,u]=(0,l.useState)(new Date);(0,l.useEffect)(()=>{let t=()=>{let t=localStorage.getItem("hr_tasks");if(t)try{let e=JSON.parse(t);p(e),u(new Date)}catch(e){console.error("Error parsing tasks:",e)}else e.length>0&&p(e)};t();let s=setInterval(t,2e3);return()=>clearInterval(s)},[e]);let h=m.length>0?m:e,g=s?h.filter(e=>e.assignedTo===s.email):[],f=[...g].sort((e,t)=>"pending"===e.status&&"completed"===t.status?-1:"completed"===e.status&&"pending"===t.status?1:e.dueDate&&t.dueDate?new Date(e.dueDate).getTime()-new Date(t.dueDate).getTime():0),j=e=>{t(e,{status:"completed"});let s=h.map(t=>t.id===e?{...t,status:"completed"}:t);localStorage.setItem("hr_tasks",JSON.stringify(s)),p(s)},b=Array.from(new Set(f.map(e=>e.project||"No Project").filter(Boolean))),v="all"===n?f:f.filter(e=>e.status===n),N="all"===o?v:v.filter(e=>(e.project||"No Project")===o),w=N.reduce((e,t)=>{let s=t.project||"No Project";return e[s]||(e[s]=[]),e[s].push(t),e},{}),y=b.map(e=>{let t=f.filter(t=>(t.project||"No Project")===e);return{name:e,total:t.length,completed:t.filter(e=>"completed"===e.status).length,pending:t.filter(e=>"pending"===e.status).length,progress:t.length>0?Math.round(t.filter(e=>"completed"===e.status).length/t.length*100):0}}),k={total:f.length,completed:f.filter(e=>"completed"===e.status).length,pending:f.filter(e=>"pending"===e.status).length,projects:b.length};return(0,r.jsx)(i.Z,{allowedRoles:["employee","Employee"],children:(0,r.jsxs)("div",{className:"space-y-8",children:[(0,r.jsx)("div",{className:"mb-8",children:(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("h1",{className:"text-4xl font-bold text-white mb-2",children:"My Tasks"}),(0,r.jsx)("p",{className:"text-white/70",children:"Tasks assigned by admin • Updates in real-time"})]}),(0,r.jsxs)("div",{className:"flex items-center space-x-2 text-sm text-white/50",children:[(0,r.jsx)("div",{className:"w-2 h-2 bg-green-400 rounded-full animate-pulse"}),(0,r.jsx)("span",{children:"Live"})]})]})}),(0,r.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6 mb-8",children:[(0,r.jsx)("div",{className:"glass-effect rounded-2xl p-6 card-shadow border border-white/10",children:(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("p",{className:"text-sm text-white/70 mb-1",children:"Total Tasks"}),(0,r.jsx)("p",{className:"text-3xl font-bold text-white",children:k.total})]}),(0,r.jsx)("div",{className:"w-14 h-14 bg-gradient-to-br from-purple-500 to-purple-600 rounded-xl flex items-center justify-center",children:(0,r.jsx)("span",{className:"text-2xl",children:"\uD83D\uDCCB"})})]})}),(0,r.jsx)("div",{className:"glass-effect rounded-2xl p-6 card-shadow border border-white/10",children:(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("p",{className:"text-sm text-white/70 mb-1",children:"Completed"}),(0,r.jsx)("p",{className:"text-3xl font-bold text-green-400",children:k.completed})]}),(0,r.jsx)("div",{className:"w-14 h-14 bg-gradient-to-br from-green-500 to-green-600 rounded-xl flex items-center justify-center",children:(0,r.jsx)("span",{className:"text-2xl",children:"✅"})})]})}),(0,r.jsx)("div",{className:"glass-effect rounded-2xl p-6 card-shadow border border-white/10",children:(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("p",{className:"text-sm text-white/70 mb-1",children:"Pending"}),(0,r.jsx)("p",{className:"text-3xl font-bold text-orange-400",children:k.pending})]}),(0,r.jsx)("div",{className:"w-14 h-14 bg-gradient-to-br from-orange-500 to-orange-600 rounded-xl flex items-center justify-center",children:(0,r.jsx)("span",{className:"text-2xl",children:"⏱"})})]})}),(0,r.jsx)("div",{className:"glass-effect rounded-2xl p-6 card-shadow border border-white/10",children:(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("p",{className:"text-sm text-white/70 mb-1",children:"Projects"}),(0,r.jsx)("p",{className:"text-3xl font-bold text-blue-400",children:k.projects})]}),(0,r.jsx)("div",{className:"w-14 h-14 bg-gradient-to-br from-blue-500 to-blue-600 rounded-xl flex items-center justify-center",children:(0,r.jsx)("span",{className:"text-2xl",children:"\uD83D\uDCC1"})})]})})]}),y.length>0&&(0,r.jsxs)("div",{className:"glass-effect rounded-2xl p-6 card-shadow border border-white/10 mb-8",children:[(0,r.jsx)("h2",{className:"text-2xl font-bold text-white mb-4",children:"Project Overview"}),(0,r.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:y.map(e=>(0,r.jsxs)("div",{className:"p-4 bg-slate-800/50 rounded-xl border border-slate-700/50",children:[(0,r.jsxs)("div",{className:"flex items-center justify-between mb-3",children:[(0,r.jsxs)("h3",{className:"font-semibold text-white flex items-center space-x-2",children:[(0,r.jsx)("svg",{className:"w-5 h-5 text-purple-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 11H5m14 0a2 2 0 012 2v6a2 2 0 01-2 2H5a2 2 0 01-2-2v-6a2 2 0 012-2m14 0V9a2 2 0 00-2-2M5 11V9a2 2 0 012-2m0 0V5a2 2 0 012-2h6a2 2 0 012 2v2M7 7h10"})}),(0,r.jsx)("span",{children:e.name})]}),(0,r.jsxs)("span",{className:"text-xs text-white/60",children:[e.progress,"%"]})]}),(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsxs)("div",{className:"flex items-center justify-between text-sm",children:[(0,r.jsx)("span",{className:"text-white/70",children:"Total"}),(0,r.jsx)("span",{className:"text-white font-medium",children:e.total})]}),(0,r.jsxs)("div",{className:"flex items-center justify-between text-sm",children:[(0,r.jsx)("span",{className:"text-green-400",children:"Completed"}),(0,r.jsx)("span",{className:"text-green-400 font-medium",children:e.completed})]}),(0,r.jsxs)("div",{className:"flex items-center justify-between text-sm",children:[(0,r.jsx)("span",{className:"text-orange-400",children:"Pending"}),(0,r.jsx)("span",{className:"text-orange-400 font-medium",children:e.pending})]}),(0,r.jsx)("div",{className:"w-full bg-slate-700/50 rounded-full h-2 mt-2",children:(0,r.jsx)("div",{className:"bg-gradient-to-r from-purple-500 to-purple-600 h-2 rounded-full transition-all duration-300",style:{width:"".concat(e.progress,"%")}})})]})]},e.name))})]}),(0,r.jsxs)("div",{className:"space-y-4 mb-6",children:[(0,r.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,r.jsx)("button",{onClick:()=>d("all"),className:"px-6 py-2 rounded-xl font-medium transition-all duration-200 ".concat("all"===n?"bg-gradient-to-r from-purple-600 to-purple-500 text-white shadow-lg":"glass-effect text-white border border-white/10 hover:bg-white/10"),children:"All Tasks"}),(0,r.jsx)("button",{onClick:()=>d("pending"),className:"px-6 py-2 rounded-xl font-medium transition-all duration-200 ".concat("pending"===n?"bg-gradient-to-r from-purple-600 to-purple-500 text-white shadow-lg":"glass-effect text-white border border-white/10 hover:bg-white/10"),children:"Pending"}),(0,r.jsx)("button",{onClick:()=>d("completed"),className:"px-6 py-2 rounded-xl font-medium transition-all duration-200 ".concat("completed"===n?"bg-gradient-to-r from-purple-600 to-purple-500 text-white shadow-lg":"glass-effect text-white border border-white/10 hover:bg-white/10"),children:"Completed"})]}),b.length>0&&(0,r.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,r.jsx)("span",{className:"text-sm text-white/70 font-medium",children:"Filter by Project:"}),(0,r.jsxs)("select",{value:o,onChange:e=>c(e.target.value),className:"px-4 py-2 border border-purple-400 rounded-xl bg-transparent text-white focus:ring-2 focus:ring-purple-500 focus:border-purple-400 transition-all duration-200 outline-none appearance-none pr-10",children:[(0,r.jsx)("option",{value:"all",className:"bg-slate-900",children:"All Projects"}),b.map(e=>(0,r.jsx)("option",{value:e,className:"bg-slate-900",children:e},e))]}),"all"!==o&&(0,r.jsx)("button",{onClick:()=>c("all"),className:"px-3 py-2 text-sm text-white/70 hover:text-white hover:bg-white/10 rounded-lg transition-colors",children:"Clear"})]})]}),(0,r.jsx)("div",{className:"space-y-6",children:Object.keys(w).length>0?Object.entries(w).map(e=>{let[t,s]=e;return(0,r.jsxs)("div",{className:"glass-effect rounded-2xl p-6 card-shadow border border-white/10",children:[(0,r.jsx)("div",{className:"flex items-center justify-between mb-6",children:(0,r.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,r.jsx)("div",{className:"w-10 h-10 bg-gradient-to-br from-purple-500 to-purple-600 rounded-lg flex items-center justify-center",children:(0,r.jsx)("svg",{className:"w-6 h-6 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 11H5m14 0a2 2 0 012 2v6a2 2 0 01-2 2H5a2 2 0 01-2-2v-6a2 2 0 012-2m14 0V9a2 2 0 00-2-2M5 11V9a2 2 0 012-2m0 0V5a2 2 0 012-2h6a2 2 0 012 2v2M7 7h10"})})}),(0,r.jsxs)("div",{children:[(0,r.jsx)("h2",{className:"text-2xl font-bold text-white",children:t}),(0,r.jsxs)("p",{className:"text-sm text-white/60",children:[s.length," task",1!==s.length?"s":""," • ",s.filter(e=>"completed"===e.status).length," completed"]})]})]})}),(0,r.jsx)("div",{className:"space-y-4",children:s.map(e=>(0,r.jsxs)("div",{className:"flex items-center justify-between p-4 bg-slate-800/50 rounded-xl border border-slate-700/50 hover:border-purple-500/50 transition-all duration-200 group backdrop-blur-sm",children:[(0,r.jsxs)("div",{className:"flex-1",children:[(0,r.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,r.jsx)("div",{className:"w-12 h-12 rounded-lg flex items-center justify-center ".concat("completed"===e.status?"bg-green-500/20 text-green-400":"bg-orange-500/20 text-orange-400"),children:"completed"===e.status?(0,r.jsx)("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})}):(0,r.jsx)("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})})}),(0,r.jsxs)("div",{className:"flex-1",children:[(0,r.jsx)("h3",{className:"text-lg font-semibold text-white",children:e.title}),(0,r.jsxs)("div",{className:"flex items-center space-x-2 mt-1",children:["pending"===e.status&&(0,r.jsx)("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-orange-500/20 text-orange-300 border border-orange-500/30",children:"Pending"}),"completed"===e.status&&(0,r.jsx)("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-green-500/20 text-green-300 border border-green-500/30",children:"Completed"})]})]})]}),e.description&&(0,r.jsx)("p",{className:"text-sm text-slate-300 mt-3 ml-16",children:e.description}),(0,r.jsxs)("div",{className:"flex items-center space-x-4 mt-3 ml-16",children:[(0,r.jsxs)("span",{className:"text-xs px-3 py-1.5 rounded-full font-medium ".concat("High"===e.priority?"bg-red-500/20 text-red-300 border border-red-500/30":"Medium"===e.priority?"bg-yellow-500/20 text-yellow-300 border border-yellow-500/30":"bg-purple-500/20 text-purple-300 border border-purple-500/30"),children:[e.priority," Priority"]}),(0,r.jsxs)("span",{className:"text-xs text-slate-400 flex items-center space-x-1",children:[(0,r.jsx)("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"})}),(0,r.jsxs)("span",{children:["Due: ",e.dueDate]})]})]})]}),"pending"===e.status&&(0,r.jsxs)("button",{onClick:()=>j(e.id),className:"ml-4 px-6 py-2.5 bg-gradient-to-r from-green-600 to-green-500 text-white rounded-xl hover:shadow-lg hover:shadow-green-500/20 transition-all duration-200 font-medium flex items-center space-x-2",children:[(0,r.jsx)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})}),(0,r.jsx)("span",{children:"Complete"})]})]},e.id))})]},t)}):(0,r.jsx)("div",{className:"glass-effect rounded-2xl p-6 card-shadow border border-white/10",children:(0,r.jsxs)("div",{className:"text-center py-12",children:[(0,r.jsx)("div",{className:"text-6xl mb-4",children:"\uD83D\uDCED"}),(0,r.jsxs)("p",{className:"text-white/60 text-lg",children:["No ","all"===n?"":n," tasks ","all"!==o?"in ".concat(o):""," assigned yet"]}),(0,r.jsx)("p",{className:"text-white/50 text-sm mt-2",children:"Tasks assigned by admin will appear here automatically"})]})})})]})})}},1728:function(e,t,s){"use strict";var r=s(7437),l=s(2265),a=s(4033),i=s(5322);t.Z=e=>{let{children:t,allowedRoles:s}=e,{currentUser:n,isAuthenticated:d}=(0,i.q)(),o=(0,a.useRouter)(),c=(0,a.usePathname)();if((0,l.useEffect)(()=>{if(!d){o.push("/auth/loginpage");return}if(n){let e=n.role,t="SuperAdmin"===e?"super_admin":"Admin"===e?"admin":"employee",r=s.map(e=>"SuperAdmin"===e?"super_admin":"Admin"===e?"admin":"Employee"===e?"employee":"super_admin"===e?"super_admin":"admin"===e?"admin":"employee"===e?"employee":e);r.includes(t)||("employee"===t?o.push("/empolyee/dishboard"):"admin"===t?o.push("/addmin/dishboardpage"):"super_admin"===t?o.push("/superadmin/dashboard"):o.push("/auth/loginpage"))}},[n,d,s,o,c]),!d||!n)return null;let m=n.role,p=s.map(e=>"SuperAdmin"===e?"super_admin":"Admin"===e?"admin":"Employee"===e?"employee":"super_admin"===e?"super_admin":"admin"===e?"admin":"employee"===e?"employee":e);return p.includes("SuperAdmin"===m?"super_admin":"Admin"===m?"admin":"employee")?(0,r.jsx)(r.Fragment,{children:t}):null}},5322:function(e,t,s){"use strict";s.d(t,{q:function(){return n},w:function(){return i}});var r=s(7437),l=s(2265);let a=(0,l.createContext)(void 0),i=e=>{let{children:t}=e,[s,i]=(0,l.useState)([]),[n,d]=(0,l.useState)([]),[o,c]=(0,l.useState)(null);return(0,l.useEffect)(()=>{let e=localStorage.getItem("user");if(e)try{let t=JSON.parse(e);c({email:t.email,role:"super_admin"===t.role?"SuperAdmin":"admin"===t.role?"Admin":"Employee"})}catch(e){console.error("Error parsing user data:",e)}let t=localStorage.getItem("hr_employees"),s=localStorage.getItem("hr_tasks");if(t)i(JSON.parse(t));else{let e=[{id:"1",name:"Ali Khan",email:"ali@example.com",department:"Engineering",position:"Software Developer",phone:"+1 234 567 8900",address:"123 Main St, City, State 12345",joinDate:"2023-01-15",role:"Employee",status:"Active"},{id:"2",name:"Sara Ahmed",email:"sara@example.com",department:"Marketing",position:"Marketing Manager",phone:"+1 234 567 8901",address:"456 Oak Ave, City, State 12345",joinDate:"2023-02-20",role:"Employee",status:"Active"},{id:"3",name:"Admin User",email:"admin@example.com",department:"Administration",position:"System Administrator",phone:"+1 234 567 8902",address:"789 Admin Blvd, City, State 12345",joinDate:"2023-01-01",role:"Admin",status:"Active"}];i(e),localStorage.setItem("hr_employees",JSON.stringify(e))}if(s)d(JSON.parse(s));else{let e=[{id:"1",title:"Complete quarterly report",status:"pending",priority:"High",dueDate:"2024-01-20",assignedTo:"ali@example.com",description:"Complete the quarterly financial report"},{id:"2",title:"Update database schema",status:"completed",priority:"Medium",dueDate:"2024-01-15",assignedTo:"ali@example.com",description:"Update the database schema for new features"},{id:"3",title:"Review code changes",status:"pending",priority:"Medium",dueDate:"2024-01-22",assignedTo:"sara@example.com",description:"Review pull requests and code changes"}];d(e),localStorage.setItem("hr_tasks",JSON.stringify(e))}},[]),(0,l.useEffect)(()=>{s.length>0&&localStorage.setItem("hr_employees",JSON.stringify(s))},[s]),(0,l.useEffect)(()=>{n.length>0&&localStorage.setItem("hr_tasks",JSON.stringify(n))},[n]),(0,r.jsx)(a.Provider,{value:{employees:s,addEmployee:e=>{let t={...e,id:Date.now().toString(),joinDate:e.joinDate||new Date().toISOString().split("T")[0]};i([...s,t])},updateEmployee:(e,t)=>{i(s.map(s=>s.id===e?{...s,...t}:s))},deleteEmployee:e=>{i(s.filter(t=>t.id!==e)),d(n.filter(t=>{var r;return t.assignedTo!==(null===(r=s.find(t=>t.id===e))||void 0===r?void 0:r.email)}))},getEmployee:e=>s.find(t=>t.id===e),tasks:n,addTask:e=>{let t={...e,id:Date.now().toString()};d([...n,t])},updateTask:(e,t)=>{d(n.map(s=>s.id===e?{...s,...t}:s))},deleteTask:e=>{d(n.filter(t=>t.id!==e))},getTasksByEmployee:e=>n.filter(t=>t.assignedTo===e),currentUser:o,login:(e,t)=>{let r=localStorage.getItem("user");if(r)try{let t=JSON.parse(r),s="super_admin"===t.role?"SuperAdmin":"admin"===t.role?"Admin":"Employee";return c({email:t.email||e,role:s}),!0}catch(e){console.error("Error parsing user data:",e)}let l=s.find(t=>t.email===e);return!!l&&(c({email:l.email,role:"Admin"===l.role?"Admin":"Employee"}),!0)},logout:()=>{localStorage.removeItem("token"),localStorage.removeItem("user"),c(null)},isAuthenticated:!!o},children:t})},n=()=>{let e=(0,l.useContext)(a);if(void 0===e)throw Error("useApp must be used within an AppProvider");return e}},622:function(e,t,s){"use strict";var r=s(2265),l=Symbol.for("react.element"),a=Symbol.for("react.fragment"),i=Object.prototype.hasOwnProperty,n=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,d={key:!0,ref:!0,__self:!0,__source:!0};function o(e,t,s){var r,a={},o=null,c=null;for(r in void 0!==s&&(o=""+s),void 0!==t.key&&(o=""+t.key),void 0!==t.ref&&(c=t.ref),t)i.call(t,r)&&!d.hasOwnProperty(r)&&(a[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps)void 0===a[r]&&(a[r]=t[r]);return{$$typeof:l,type:e,key:o,ref:c,props:a,_owner:n.current}}t.Fragment=a,t.jsx=o,t.jsxs=o},7437:function(e,t,s){"use strict";e.exports=s(622)},4033:function(e,t,s){e.exports=s(94)}},function(e){e.O(0,[971,472,744],function(){return e(e.s=2372)}),_N_E=e.O()}]);