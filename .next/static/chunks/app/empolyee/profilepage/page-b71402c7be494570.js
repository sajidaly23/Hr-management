(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[739],{2708:function(e,t,r){Promise.resolve().then(r.bind(r,5509))},5509:function(e,t,r){"use strict";r.r(t);var i=r(7437),a=r(2265),l=r(5322),s=r(1728);t.default=()=>{let{currentUser:e,employees:t,updateEmployee:r}=(0,l.q)(),[n,o]=(0,a.useState)(!1),[d,m]=(0,a.useState)({name:"",email:"",role:"Employee",department:"",position:"",phone:"",address:"",joinDate:""});(0,a.useEffect)(()=>{if(e){let r=t.find(t=>t.email===e.email);if(r)m({name:r.name,email:r.email,role:r.role,department:r.department,position:r.position,phone:r.phone,address:r.address,joinDate:r.joinDate});else{let t=e.email.split("@")[0];m(r=>({...r,name:t,email:e.email,role:"Employee",department:r.department||"",position:r.position||"",phone:r.phone||"",address:r.address||"",joinDate:r.joinDate||new Date().toISOString().split("T")[0]}))}}},[e,t]);let p=e=>{m({...d,[e.target.name]:e.target.value})},u=()=>{if(e){let i=t.find(t=>t.email===e.email);i&&(r(i.id,d),o(!1),alert("Profile updated successfully!"))}},c=d.name.split(" ").map(e=>e[0]).join("").toUpperCase();return(0,i.jsx)(s.Z,{allowedRoles:["employee","Employee"],children:(0,i.jsxs)("div",{className:"max-w-4xl mx-auto space-y-8",children:[(0,i.jsxs)("div",{className:"mb-8",children:[(0,i.jsx)("h1",{className:"text-4xl font-bold text-white mb-2",children:"My Profile"}),(0,i.jsx)("p",{className:"text-white/70",children:"Manage your personal information"})]}),(0,i.jsxs)("div",{className:"glass-effect rounded-2xl p-8 card-shadow border border-white/10",children:[(0,i.jsxs)("div",{className:"flex items-start justify-between mb-8 pb-8 border-b border-white/10",children:[(0,i.jsxs)("div",{className:"flex items-center space-x-6",children:[(0,i.jsx)("div",{className:"w-24 h-24 bg-gradient-to-br from-purple-400 to-purple-600 rounded-2xl flex items-center justify-center text-white font-bold text-3xl shadow-lg",children:c}),(0,i.jsxs)("div",{children:[(0,i.jsx)("h2",{className:"text-3xl font-bold text-white mb-1",children:d.name}),(0,i.jsx)("p",{className:"text-white/70 mb-2",children:d.position}),(0,i.jsxs)("div",{className:"flex items-center space-x-4 text-sm text-white/60",children:[(0,i.jsxs)("span",{className:"flex items-center space-x-1",children:[(0,i.jsx)("span",{children:"\uD83D\uDCE7"}),(0,i.jsx)("span",{children:d.email})]}),(0,i.jsxs)("span",{className:"flex items-center space-x-1",children:[(0,i.jsx)("span",{children:"\uD83D\uDCDE"}),(0,i.jsx)("span",{children:d.phone})]})]})]})]}),(0,i.jsx)("button",{onClick:()=>n?u():o(!0),className:"px-6 py-3 rounded-xl font-medium transition-all duration-200 ".concat(n?"bg-gradient-to-r from-green-600 to-green-700 text-white hover:shadow-lg":"bg-gradient-to-r from-purple-600 to-purple-500 text-white hover:shadow-lg"),children:n?"\uD83D\uDCBE Save Changes":"✏️ Edit Profile"})]}),(0,i.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,i.jsxs)("div",{children:[(0,i.jsx)("label",{className:"block text-sm font-medium text-white mb-2",children:"Full Name"}),n?(0,i.jsx)("input",{type:"text",name:"name",value:d.name,onChange:p,className:"w-full px-4 py-3 border border-purple-400 rounded-xl bg-transparent text-white placeholder-white/60 focus:ring-2 focus:ring-purple-500 focus:border-purple-400 transition-all duration-200 outline-none"}):(0,i.jsx)("div",{className:"px-4 py-3 glass-effect border border-white/10 rounded-xl text-white",children:d.name})]}),(0,i.jsxs)("div",{children:[(0,i.jsx)("label",{className:"block text-sm font-medium text-white mb-2",children:"Email Address"}),n?(0,i.jsx)("input",{type:"email",name:"email",value:d.email,onChange:p,className:"w-full px-4 py-3 border border-purple-400 rounded-xl bg-transparent text-white placeholder-white/60 focus:ring-2 focus:ring-purple-500 focus:border-purple-400 transition-all duration-200 outline-none"}):(0,i.jsx)("div",{className:"px-4 py-3 glass-effect border border-white/10 rounded-xl text-white",children:d.email})]}),(0,i.jsxs)("div",{children:[(0,i.jsx)("label",{className:"block text-sm font-medium text-white mb-2",children:"Role"}),(0,i.jsx)("div",{className:"px-4 py-3 glass-effect border border-white/10 rounded-xl text-white",children:d.role})]}),(0,i.jsxs)("div",{children:[(0,i.jsx)("label",{className:"block text-sm font-medium text-white mb-2",children:"Department"}),n?(0,i.jsx)("input",{type:"text",name:"department",value:d.department,onChange:p,className:"w-full px-4 py-3 border border-purple-400 rounded-xl bg-transparent text-white placeholder-white/60 focus:ring-2 focus:ring-purple-500 focus:border-purple-400 transition-all duration-200 outline-none"}):(0,i.jsx)("div",{className:"px-4 py-3 glass-effect border border-white/10 rounded-xl text-white",children:d.department})]}),(0,i.jsxs)("div",{children:[(0,i.jsx)("label",{className:"block text-sm font-medium text-white mb-2",children:"Position"}),n?(0,i.jsx)("input",{type:"text",name:"position",value:d.position,onChange:p,className:"w-full px-4 py-3 border border-purple-400 rounded-xl bg-transparent text-white placeholder-white/60 focus:ring-2 focus:ring-purple-500 focus:border-purple-400 transition-all duration-200 outline-none"}):(0,i.jsx)("div",{className:"px-4 py-3 glass-effect border border-white/10 rounded-xl text-white",children:d.position})]}),(0,i.jsxs)("div",{children:[(0,i.jsx)("label",{className:"block text-sm font-medium text-white mb-2",children:"Phone Number"}),n?(0,i.jsx)("input",{type:"tel",name:"phone",value:d.phone,onChange:p,className:"w-full px-4 py-3 border border-purple-400 rounded-xl bg-transparent text-white placeholder-white/60 focus:ring-2 focus:ring-purple-500 focus:border-purple-400 transition-all duration-200 outline-none"}):(0,i.jsx)("div",{className:"px-4 py-3 glass-effect border border-white/10 rounded-xl text-white",children:d.phone})]}),(0,i.jsxs)("div",{className:"md:col-span-2",children:[(0,i.jsx)("label",{className:"block text-sm font-medium text-white mb-2",children:"Address"}),n?(0,i.jsx)("input",{type:"text",name:"address",value:d.address,onChange:p,className:"w-full px-4 py-3 border border-purple-400 rounded-xl bg-transparent text-white placeholder-white/60 focus:ring-2 focus:ring-purple-500 focus:border-purple-400 transition-all duration-200 outline-none"}):(0,i.jsx)("div",{className:"px-4 py-3 glass-effect border border-white/10 rounded-xl text-white",children:d.address})]}),(0,i.jsxs)("div",{children:[(0,i.jsx)("label",{className:"block text-sm font-medium text-white mb-2",children:"Join Date"}),(0,i.jsx)("div",{className:"px-4 py-3 glass-effect border border-white/10 rounded-xl text-white",children:d.joinDate})]})]})]})]})})}},1728:function(e,t,r){"use strict";var i=r(7437),a=r(2265),l=r(4033),s=r(5322);t.Z=e=>{let{children:t,allowedRoles:r}=e,{currentUser:n,isAuthenticated:o}=(0,s.q)(),d=(0,l.useRouter)(),m=(0,l.usePathname)();if((0,a.useEffect)(()=>{if(!o){d.push("/auth/loginpage");return}if(n){let e=n.role,t="SuperAdmin"===e?"super_admin":"Admin"===e?"admin":"employee",i=r.map(e=>"SuperAdmin"===e?"super_admin":"Admin"===e?"admin":"Employee"===e?"employee":"super_admin"===e?"super_admin":"admin"===e?"admin":"employee"===e?"employee":e);i.includes(t)||("employee"===t?d.push("/empolyee/dishboard"):"admin"===t?d.push("/addmin/dishboardpage"):"super_admin"===t?d.push("/superadmin/dashboard"):d.push("/auth/loginpage"))}},[n,o,r,d,m]),!o||!n)return null;let p=n.role,u=r.map(e=>"SuperAdmin"===e?"super_admin":"Admin"===e?"admin":"Employee"===e?"employee":"super_admin"===e?"super_admin":"admin"===e?"admin":"employee"===e?"employee":e);return u.includes("SuperAdmin"===p?"super_admin":"Admin"===p?"admin":"employee")?(0,i.jsx)(i.Fragment,{children:t}):null}},5322:function(e,t,r){"use strict";r.d(t,{q:function(){return n},w:function(){return s}});var i=r(7437),a=r(2265);let l=(0,a.createContext)(void 0),s=e=>{let{children:t}=e,[r,s]=(0,a.useState)([]),[n,o]=(0,a.useState)([]),[d,m]=(0,a.useState)(null);return(0,a.useEffect)(()=>{let e=localStorage.getItem("user");if(e)try{let t=JSON.parse(e);m({email:t.email,role:"super_admin"===t.role?"SuperAdmin":"admin"===t.role?"Admin":"Employee"})}catch(e){console.error("Error parsing user data:",e)}let t=localStorage.getItem("hr_employees"),r=localStorage.getItem("hr_tasks");if(t)s(JSON.parse(t));else{let e=[{id:"1",name:"Ali Khan",email:"ali@example.com",department:"Engineering",position:"Software Developer",phone:"+1 234 567 8900",address:"123 Main St, City, State 12345",joinDate:"2023-01-15",role:"Employee",status:"Active"},{id:"2",name:"Sara Ahmed",email:"sara@example.com",department:"Marketing",position:"Marketing Manager",phone:"+1 234 567 8901",address:"456 Oak Ave, City, State 12345",joinDate:"2023-02-20",role:"Employee",status:"Active"},{id:"3",name:"Admin User",email:"admin@example.com",department:"Administration",position:"System Administrator",phone:"+1 234 567 8902",address:"789 Admin Blvd, City, State 12345",joinDate:"2023-01-01",role:"Admin",status:"Active"}];s(e),localStorage.setItem("hr_employees",JSON.stringify(e))}if(r)o(JSON.parse(r));else{let e=[{id:"1",title:"Complete quarterly report",status:"pending",priority:"High",dueDate:"2024-01-20",assignedTo:"ali@example.com",description:"Complete the quarterly financial report"},{id:"2",title:"Update database schema",status:"completed",priority:"Medium",dueDate:"2024-01-15",assignedTo:"ali@example.com",description:"Update the database schema for new features"},{id:"3",title:"Review code changes",status:"pending",priority:"Medium",dueDate:"2024-01-22",assignedTo:"sara@example.com",description:"Review pull requests and code changes"}];o(e),localStorage.setItem("hr_tasks",JSON.stringify(e))}},[]),(0,a.useEffect)(()=>{r.length>0&&localStorage.setItem("hr_employees",JSON.stringify(r))},[r]),(0,a.useEffect)(()=>{n.length>0&&localStorage.setItem("hr_tasks",JSON.stringify(n))},[n]),(0,i.jsx)(l.Provider,{value:{employees:r,addEmployee:e=>{let t={...e,id:Date.now().toString(),joinDate:e.joinDate||new Date().toISOString().split("T")[0]};s([...r,t])},updateEmployee:(e,t)=>{s(r.map(r=>r.id===e?{...r,...t}:r))},deleteEmployee:e=>{s(r.filter(t=>t.id!==e)),o(n.filter(t=>{var i;return t.assignedTo!==(null===(i=r.find(t=>t.id===e))||void 0===i?void 0:i.email)}))},getEmployee:e=>r.find(t=>t.id===e),tasks:n,addTask:e=>{let t={...e,id:Date.now().toString()};o([...n,t])},updateTask:(e,t)=>{o(n.map(r=>r.id===e?{...r,...t}:r))},deleteTask:e=>{o(n.filter(t=>t.id!==e))},getTasksByEmployee:e=>n.filter(t=>t.assignedTo===e),currentUser:d,login:(e,t)=>{let i=localStorage.getItem("user");if(i)try{let t=JSON.parse(i),r="super_admin"===t.role?"SuperAdmin":"admin"===t.role?"Admin":"Employee";return m({email:t.email||e,role:r}),!0}catch(e){console.error("Error parsing user data:",e)}let a=r.find(t=>t.email===e);return!!a&&(m({email:a.email,role:"Admin"===a.role?"Admin":"Employee"}),!0)},logout:()=>{localStorage.removeItem("token"),localStorage.removeItem("user"),m(null)},isAuthenticated:!!d},children:t})},n=()=>{let e=(0,a.useContext)(l);if(void 0===e)throw Error("useApp must be used within an AppProvider");return e}},622:function(e,t,r){"use strict";var i=r(2265),a=Symbol.for("react.element"),l=Symbol.for("react.fragment"),s=Object.prototype.hasOwnProperty,n=i.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,o={key:!0,ref:!0,__self:!0,__source:!0};function d(e,t,r){var i,l={},d=null,m=null;for(i in void 0!==r&&(d=""+r),void 0!==t.key&&(d=""+t.key),void 0!==t.ref&&(m=t.ref),t)s.call(t,i)&&!o.hasOwnProperty(i)&&(l[i]=t[i]);if(e&&e.defaultProps)for(i in t=e.defaultProps)void 0===l[i]&&(l[i]=t[i]);return{$$typeof:a,type:e,key:d,ref:m,props:l,_owner:n.current}}t.Fragment=l,t.jsx=d,t.jsxs=d},7437:function(e,t,r){"use strict";e.exports=r(622)},4033:function(e,t,r){e.exports=r(94)}},function(e){e.O(0,[971,472,744],function(){return e(e.s=2708)}),_N_E=e.O()}]);