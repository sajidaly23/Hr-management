(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[325],{7611:function(e,t,s){Promise.resolve().then(s.bind(s,8597))},8597:function(e,t,s){"use strict";s.r(t);var r=s(7437),a=s(2265),l=s(5322);t.default=()=>{let{currentUser:e,employees:t}=(0,l.q)(),[s,i]=(0,a.useState)([]),[n,o]=(0,a.useState)(new Date().toISOString().split("T")[0]),[c,d]=(0,a.useState)("all"),[m,h]=(0,a.useState)({checkIn:null,checkOut:null});(0,a.useEffect)(()=>{let e=localStorage.getItem("hr_attendance");e&&i(JSON.parse(e))},[]),(0,a.useEffect)(()=>{if(e){let t=new Date().toISOString().split("T")[0],r=s.find(s=>s.employeeEmail===e.email&&s.date===t);r&&h({checkIn:r.checkIn,checkOut:r.checkOut})}},[s,e]),(0,a.useEffect)(()=>{s.length>0&&localStorage.setItem("hr_attendance",JSON.stringify(s))},[s]);let x=s.filter(e=>{let t=e.date===n,s="all"===c||e.employeeEmail===c;return t&&s}),u={present:s.filter(e=>e.date===n&&"present"===e.status).length,late:s.filter(e=>e.date===n&&"late"===e.status).length,absent:t.length-s.filter(e=>e.date===n&&("present"===e.status||"late"===e.status)).length,checkedIn:s.filter(e=>e.date===n&&e.checkIn).length},p=e=>"present"===e?"bg-green-500":"late"===e?"bg-orange-500":"bg-red-500";return(0,r.jsxs)("div",{className:"space-y-6",children:[(0,r.jsxs)("div",{className:"mb-6",children:[(0,r.jsx)("h1",{className:"text-4xl font-bold text-white mb-2",children:"Attendance Management"}),(0,r.jsx)("p",{className:"text-white/70",children:"Track employee check-in and check-out"})]}),(0,r.jsxs)("div",{className:"glass-effect rounded-2xl p-6 card-shadow border border-white/10",children:[(0,r.jsx)("h2",{className:"text-2xl font-bold text-white mb-4",children:"Today's Attendance"}),(0,r.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-6",children:[(0,r.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,r.jsxs)("div",{className:"flex-1",children:[(0,r.jsx)("p",{className:"text-sm text-white/70 mb-1",children:"Check In"}),(0,r.jsx)("p",{className:"text-2xl font-bold text-white",children:m.checkIn||"Not checked in"})]}),(0,r.jsx)("button",{onClick:()=>{if(!e)return;let r=new Date,a=r.toLocaleTimeString("en-US",{hour:"2-digit",minute:"2-digit",hour12:!0}),l=r.toISOString().split("T")[0],n=t.find(t=>t.email===e.email);if(!n)return;let o=s.find(t=>t.employeeEmail===e.email&&t.date===l);if(o&&o.checkIn){alert("You have already checked in today!");return}let c=r.getHours(),d=r.getMinutes(),x=c>9||9===c&&d>0,u={id:(null==o?void 0:o.id)||Date.now().toString(),employeeId:n.id,employeeEmail:e.email,employeeName:n.name,date:l,checkIn:a,checkOut:(null==o?void 0:o.checkOut)||null,status:x?"late":"present",workingHours:null};o?i(s.map(e=>e.id===o.id?u:e)):i([...s,u]),h({checkIn:a,checkOut:m.checkOut}),alert("Checked in at ".concat(a).concat(x?" (Late)":""))},disabled:!!m.checkIn,className:"px-6 py-3 rounded-xl font-medium transition-all duration-200 ".concat(m.checkIn?"bg-gray-600 text-gray-300 cursor-not-allowed":"bg-gradient-to-r from-green-600 to-green-500 text-white hover:shadow-lg"),children:m.checkIn?"Checked In":"Check In"})]}),(0,r.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,r.jsxs)("div",{className:"flex-1",children:[(0,r.jsx)("p",{className:"text-sm text-white/70 mb-1",children:"Check Out"}),(0,r.jsx)("p",{className:"text-2xl font-bold text-white",children:m.checkOut||"Not checked out"})]}),(0,r.jsx)("button",{onClick:()=>{if(!e)return;let t=new Date,r=t.toLocaleTimeString("en-US",{hour:"2-digit",minute:"2-digit",hour12:!0}),a=t.toISOString().split("T")[0],l=s.find(t=>t.employeeEmail===e.email&&t.date===a);if(!l||!l.checkIn){alert("Please check in first!");return}if(l.checkOut){alert("You have already checked out today!");return}let n=new Date("".concat(a," ").concat(l.checkIn)),o=t.getTime()-n.getTime(),c=Math.round(o/36e5*10)/10,d={...l,checkOut:r,workingHours:c};i(s.map(e=>e.id===l.id?d:e)),h({checkIn:m.checkIn,checkOut:r}),alert("Checked out at ".concat(r,". Working hours: ").concat(c," hours"))},disabled:!m.checkIn||!!m.checkOut,className:"px-6 py-3 rounded-xl font-medium transition-all duration-200 ".concat(!m.checkIn||m.checkOut?"bg-gray-600 text-gray-300 cursor-not-allowed":"bg-gradient-to-r from-red-600 to-red-500 text-white hover:shadow-lg"),children:m.checkOut?"Checked Out":"Check Out"})]})]})]}),(0,r.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[(0,r.jsx)("div",{className:"glass-effect rounded-2xl p-6 card-shadow border border-white/10",children:(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("p",{className:"text-sm text-white/70 mb-1",children:"Present"}),(0,r.jsx)("p",{className:"text-3xl font-bold text-green-400",children:u.present})]}),(0,r.jsx)("div",{className:"w-14 h-14 bg-gradient-to-br from-green-500 to-green-600 rounded-xl flex items-center justify-center",children:(0,r.jsx)("svg",{className:"w-7 h-7 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})})})]})}),(0,r.jsx)("div",{className:"glass-effect rounded-2xl p-6 card-shadow border border-white/10",children:(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("p",{className:"text-sm text-white/70 mb-1",children:"Late"}),(0,r.jsx)("p",{className:"text-3xl font-bold text-orange-400",children:u.late})]}),(0,r.jsx)("div",{className:"w-14 h-14 bg-gradient-to-br from-orange-500 to-orange-600 rounded-xl flex items-center justify-center",children:(0,r.jsx)("svg",{className:"w-7 h-7 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})})})]})}),(0,r.jsx)("div",{className:"glass-effect rounded-2xl p-6 card-shadow border border-white/10",children:(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("p",{className:"text-sm text-white/70 mb-1",children:"Absent"}),(0,r.jsx)("p",{className:"text-3xl font-bold text-red-400",children:u.absent})]}),(0,r.jsx)("div",{className:"w-14 h-14 bg-gradient-to-br from-red-500 to-red-600 rounded-xl flex items-center justify-center",children:(0,r.jsx)("svg",{className:"w-7 h-7 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]})}),(0,r.jsx)("div",{className:"glass-effect rounded-2xl p-6 card-shadow border border-white/10",children:(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("p",{className:"text-sm text-white/70 mb-1",children:"Checked In"}),(0,r.jsx)("p",{className:"text-3xl font-bold text-purple-400",children:u.checkedIn})]}),(0,r.jsx)("div",{className:"w-14 h-14 bg-gradient-to-br from-purple-500 to-purple-600 rounded-xl flex items-center justify-center",children:(0,r.jsx)("svg",{className:"w-7 h-7 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m5.618-4.016A11.955 11.955 0 0112 2.944a11.955 11.955 0 01-8.618 3.04A12.02 12.02 0 003 9c0 5.591 3.824 10.29 9 11.622 5.176-1.332 9-6.03 9-11.622 0-1.042-.133-2.052-.382-3.016z"})})})]})})]}),(0,r.jsxs)("div",{className:"glass-effect rounded-2xl p-6 card-shadow border border-white/10",children:[(0,r.jsxs)("div",{className:"flex flex-col md:flex-row gap-4 items-start md:items-center justify-between mb-6",children:[(0,r.jsx)("h2",{className:"text-2xl font-bold text-white",children:"Attendance Records"}),(0,r.jsxs)("div",{className:"flex flex-col md:flex-row gap-4",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-white/70 mb-2",children:"Date"}),(0,r.jsx)("input",{type:"date",value:n,onChange:e=>o(e.target.value),className:"px-4 py-2 border border-purple-400 rounded-xl bg-transparent text-white focus:ring-2 focus:ring-purple-500 focus:border-purple-400 transition-all duration-200 outline-none"})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-white/70 mb-2",children:"Employee"}),(0,r.jsxs)("select",{value:c,onChange:e=>d(e.target.value),className:"px-4 py-2 border border-purple-400 rounded-xl bg-transparent text-white focus:ring-2 focus:ring-purple-500 focus:border-purple-400 transition-all duration-200 outline-none appearance-none pr-10 min-w-[200px]",children:[(0,r.jsx)("option",{value:"all",className:"bg-slate-900",children:"All Employees"}),t.map(e=>(0,r.jsx)("option",{value:e.email,className:"bg-slate-900",children:e.name},e.id))]})]})]})]}),(0,r.jsx)("div",{className:"overflow-x-auto",children:(0,r.jsxs)("table",{className:"w-full",children:[(0,r.jsx)("thead",{children:(0,r.jsxs)("tr",{className:"border-b border-white/10",children:[(0,r.jsx)("th",{className:"px-4 py-3 text-left text-sm font-semibold text-white",children:"Employee"}),(0,r.jsx)("th",{className:"px-4 py-3 text-left text-sm font-semibold text-white",children:"Date"}),(0,r.jsx)("th",{className:"px-4 py-3 text-left text-sm font-semibold text-white",children:"Check In"}),(0,r.jsx)("th",{className:"px-4 py-3 text-left text-sm font-semibold text-white",children:"Check Out"}),(0,r.jsx)("th",{className:"px-4 py-3 text-left text-sm font-semibold text-white",children:"Working Hours"}),(0,r.jsx)("th",{className:"px-4 py-3 text-left text-sm font-semibold text-white",children:"Status"})]})}),(0,r.jsx)("tbody",{children:x.length>0?x.map((e,t)=>(0,r.jsxs)("tr",{className:"border-b border-white/10 hover:bg-white/5 transition-colors ".concat(t%2==0?"bg-white/2":""),children:[(0,r.jsx)("td",{className:"px-4 py-3 text-white/90",children:e.employeeName}),(0,r.jsx)("td",{className:"px-4 py-3 text-white/90",children:new Date(e.date).toLocaleDateString()}),(0,r.jsx)("td",{className:"px-4 py-3 text-white/90",children:e.checkIn||"-"}),(0,r.jsx)("td",{className:"px-4 py-3 text-white/90",children:e.checkOut||"-"}),(0,r.jsx)("td",{className:"px-4 py-3 text-white/90",children:e.workingHours?"".concat(e.workingHours," hrs"):"-"}),(0,r.jsx)("td",{className:"px-4 py-3",children:(0,r.jsx)("span",{className:"px-3 py-1 rounded-full text-xs font-medium text-white ".concat(p(e.status)),children:e.status.charAt(0).toUpperCase()+e.status.slice(1)})})]},e.id)):(0,r.jsx)("tr",{children:(0,r.jsx)("td",{colSpan:6,className:"px-4 py-8 text-center text-white/70",children:"No attendance records found for the selected date"})})})]})})]})]})}},5322:function(e,t,s){"use strict";s.d(t,{q:function(){return n},w:function(){return i}});var r=s(7437),a=s(2265);let l=(0,a.createContext)(void 0),i=e=>{let{children:t}=e,[s,i]=(0,a.useState)([]),[n,o]=(0,a.useState)([]),[c,d]=(0,a.useState)(null);return(0,a.useEffect)(()=>{let e=localStorage.getItem("user");if(e)try{let t=JSON.parse(e);d({email:t.email,role:"super_admin"===t.role?"SuperAdmin":"admin"===t.role?"Admin":"Employee"})}catch(e){console.error("Error parsing user data:",e)}let t=localStorage.getItem("hr_employees"),s=localStorage.getItem("hr_tasks");if(t)i(JSON.parse(t));else{let e=[{id:"1",name:"Ali Khan",email:"ali@example.com",department:"Engineering",position:"Software Developer",phone:"+1 234 567 8900",address:"123 Main St, City, State 12345",joinDate:"2023-01-15",role:"Employee",status:"Active"},{id:"2",name:"Sara Ahmed",email:"sara@example.com",department:"Marketing",position:"Marketing Manager",phone:"+1 234 567 8901",address:"456 Oak Ave, City, State 12345",joinDate:"2023-02-20",role:"Employee",status:"Active"},{id:"3",name:"Admin User",email:"admin@example.com",department:"Administration",position:"System Administrator",phone:"+1 234 567 8902",address:"789 Admin Blvd, City, State 12345",joinDate:"2023-01-01",role:"Admin",status:"Active"}];i(e),localStorage.setItem("hr_employees",JSON.stringify(e))}if(s)o(JSON.parse(s));else{let e=[{id:"1",title:"Complete quarterly report",status:"pending",priority:"High",dueDate:"2024-01-20",assignedTo:"ali@example.com",description:"Complete the quarterly financial report"},{id:"2",title:"Update database schema",status:"completed",priority:"Medium",dueDate:"2024-01-15",assignedTo:"ali@example.com",description:"Update the database schema for new features"},{id:"3",title:"Review code changes",status:"pending",priority:"Medium",dueDate:"2024-01-22",assignedTo:"sara@example.com",description:"Review pull requests and code changes"}];o(e),localStorage.setItem("hr_tasks",JSON.stringify(e))}},[]),(0,a.useEffect)(()=>{s.length>0&&localStorage.setItem("hr_employees",JSON.stringify(s))},[s]),(0,a.useEffect)(()=>{n.length>0&&localStorage.setItem("hr_tasks",JSON.stringify(n))},[n]),(0,r.jsx)(l.Provider,{value:{employees:s,addEmployee:e=>{let t={...e,id:Date.now().toString(),joinDate:e.joinDate||new Date().toISOString().split("T")[0]};i([...s,t])},updateEmployee:(e,t)=>{i(s.map(s=>s.id===e?{...s,...t}:s))},deleteEmployee:e=>{i(s.filter(t=>t.id!==e)),o(n.filter(t=>{var r;return t.assignedTo!==(null===(r=s.find(t=>t.id===e))||void 0===r?void 0:r.email)}))},getEmployee:e=>s.find(t=>t.id===e),tasks:n,addTask:e=>{let t={...e,id:Date.now().toString()};o([...n,t])},updateTask:(e,t)=>{o(n.map(s=>s.id===e?{...s,...t}:s))},deleteTask:e=>{o(n.filter(t=>t.id!==e))},getTasksByEmployee:e=>n.filter(t=>t.assignedTo===e),currentUser:c,login:(e,t)=>{let r=localStorage.getItem("user");if(r)try{let t=JSON.parse(r),s="super_admin"===t.role?"SuperAdmin":"admin"===t.role?"Admin":"Employee";return d({email:t.email||e,role:s}),!0}catch(e){console.error("Error parsing user data:",e)}let a=s.find(t=>t.email===e);return!!a&&(d({email:a.email,role:"Admin"===a.role?"Admin":"Employee"}),!0)},logout:()=>{localStorage.removeItem("token"),localStorage.removeItem("user"),d(null)},isAuthenticated:!!c},children:t})},n=()=>{let e=(0,a.useContext)(l);if(void 0===e)throw Error("useApp must be used within an AppProvider");return e}},622:function(e,t,s){"use strict";var r=s(2265),a=Symbol.for("react.element"),l=Symbol.for("react.fragment"),i=Object.prototype.hasOwnProperty,n=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,o={key:!0,ref:!0,__self:!0,__source:!0};function c(e,t,s){var r,l={},c=null,d=null;for(r in void 0!==s&&(c=""+s),void 0!==t.key&&(c=""+t.key),void 0!==t.ref&&(d=t.ref),t)i.call(t,r)&&!o.hasOwnProperty(r)&&(l[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps)void 0===l[r]&&(l[r]=t[r]);return{$$typeof:a,type:e,key:c,ref:d,props:l,_owner:n.current}}t.Fragment=l,t.jsx=c,t.jsxs=c},7437:function(e,t,s){"use strict";e.exports=s(622)}},function(e){e.O(0,[971,472,744],function(){return e(e.s=7611)}),_N_E=e.O()}]);