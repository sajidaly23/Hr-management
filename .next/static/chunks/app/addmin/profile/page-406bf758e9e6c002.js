(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[312],{3022:function(e,t,r){Promise.resolve().then(r.bind(r,8579))},8579:function(e,t,r){"use strict";r.r(t);var l=r(7437),a=r(2265),i=r(4033),s=r(5322);t.default=()=>{var e;(0,i.useRouter)();let{currentUser:t,employees:r,updateEmployee:n}=(0,s.q)(),[o,d]=(0,a.useState)(!1),p=t?r.find(e=>e.email===t.email):null,[m,c]=(0,a.useState)({name:(null==p?void 0:p.name)||(null==t?void 0:null===(e=t.email)||void 0===e?void 0:e.split("@")[0])||"",email:(null==t?void 0:t.email)||"",phone:(null==p?void 0:p.phone)||"",department:(null==p?void 0:p.department)||"",position:(null==p?void 0:p.position)||"",address:(null==p?void 0:p.address)||""}),u=e=>{c({...m,[e.target.name]:e.target.value})};return(0,l.jsxs)("div",{className:"space-y-6",children:[(0,l.jsxs)("div",{className:"mb-6",children:[(0,l.jsx)("h1",{className:"text-4xl font-bold text-white mb-2",children:"My Profile"}),(0,l.jsx)("p",{className:"text-white/70",children:"View and manage your profile information"})]}),(0,l.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[(0,l.jsx)("div",{className:"lg:col-span-1",children:(0,l.jsx)("div",{className:"glass-effect rounded-2xl p-6 card-shadow border border-white/10",children:(0,l.jsxs)("div",{className:"flex flex-col items-center text-center",children:[(0,l.jsx)("div",{className:"w-24 h-24 bg-gradient-to-br from-purple-500 to-fuchsia-500 rounded-full flex items-center justify-center text-white font-bold text-3xl mb-4 shadow-lg",children:m.name.split(" ").map(e=>e[0]).join("").toUpperCase().slice(0,2)}),(0,l.jsx)("h2",{className:"text-2xl font-bold text-white mb-2",children:m.name}),(0,l.jsx)("p",{className:"text-white/70 mb-1",children:m.email}),(0,l.jsx)("span",{className:"inline-block px-3 py-1 text-sm font-medium text-purple-300 bg-purple-500/20 rounded-full mb-4",children:(null==t?void 0:t.role)||"Admin"}),(0,l.jsx)("button",{onClick:()=>d(!o),className:"px-6 py-2 bg-gradient-to-r from-purple-600 to-fuchsia-500 text-white rounded-xl hover:shadow-lg transition-all duration-200 font-medium",children:o?"Cancel Edit":"Edit Profile"})]})})}),(0,l.jsx)("div",{className:"lg:col-span-2",children:(0,l.jsxs)("div",{className:"glass-effect rounded-2xl p-6 card-shadow border border-white/10",children:[(0,l.jsx)("h2",{className:"text-2xl font-bold text-white mb-6",children:"Profile Information"}),(0,l.jsxs)("form",{onSubmit:e=>{e.preventDefault(),p&&(n(p.id,{name:m.name,phone:m.phone,department:m.department,position:m.position,address:m.address}),alert("Profile updated successfully!"),d(!1))},className:"space-y-4",children:[(0,l.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{className:"block text-sm font-medium text-white mb-2",children:"Full Name"}),o?(0,l.jsx)("input",{type:"text",name:"name",value:m.name,onChange:u,className:"w-full px-4 py-3 border border-purple-400 rounded-xl bg-transparent text-white placeholder-white/60 focus:ring-2 focus:ring-purple-500 focus:border-purple-400 transition-all duration-200 outline-none"}):(0,l.jsx)("div",{className:"px-4 py-3 glass-effect border border-white/10 rounded-xl text-white",children:m.name})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{className:"block text-sm font-medium text-white mb-2",children:"Email"}),(0,l.jsx)("div",{className:"px-4 py-3 glass-effect border border-white/10 rounded-xl text-white/70",children:m.email}),(0,l.jsx)("p",{className:"text-xs text-white/50 mt-1",children:"Email cannot be changed"})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{className:"block text-sm font-medium text-white mb-2",children:"Phone"}),o?(0,l.jsx)("input",{type:"tel",name:"phone",value:m.phone,onChange:u,className:"w-full px-4 py-3 border border-purple-400 rounded-xl bg-transparent text-white placeholder-white/60 focus:ring-2 focus:ring-purple-500 focus:border-purple-400 transition-all duration-200 outline-none",placeholder:"Enter phone number"}):(0,l.jsx)("div",{className:"px-4 py-3 glass-effect border border-white/10 rounded-xl text-white",children:m.phone||"N/A"})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{className:"block text-sm font-medium text-white mb-2",children:"Department"}),o?(0,l.jsx)("input",{type:"text",name:"department",value:m.department,onChange:u,className:"w-full px-4 py-3 border border-purple-400 rounded-xl bg-transparent text-white placeholder-white/60 focus:ring-2 focus:ring-purple-500 focus:border-purple-400 transition-all duration-200 outline-none",placeholder:"Enter department"}):(0,l.jsx)("div",{className:"px-4 py-3 glass-effect border border-white/10 rounded-xl text-white",children:m.department||"N/A"})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{className:"block text-sm font-medium text-white mb-2",children:"Position"}),o?(0,l.jsx)("input",{type:"text",name:"position",value:m.position,onChange:u,className:"w-full px-4 py-3 border border-purple-400 rounded-xl bg-transparent text-white placeholder-white/60 focus:ring-2 focus:ring-purple-500 focus:border-purple-400 transition-all duration-200 outline-none",placeholder:"Enter position"}):(0,l.jsx)("div",{className:"px-4 py-3 glass-effect border border-white/10 rounded-xl text-white",children:m.position||"N/A"})]}),(0,l.jsxs)("div",{className:"md:col-span-2",children:[(0,l.jsx)("label",{className:"block text-sm font-medium text-white mb-2",children:"Address"}),o?(0,l.jsx)("textarea",{name:"address",value:m.address,onChange:u,rows:3,className:"w-full px-4 py-3 border border-purple-400 rounded-xl bg-transparent text-white placeholder-white/60 focus:ring-2 focus:ring-purple-500 focus:border-purple-400 transition-all duration-200 outline-none",placeholder:"Enter address"}):(0,l.jsx)("div",{className:"px-4 py-3 glass-effect border border-white/10 rounded-xl text-white",children:m.address||"N/A"})]})]}),o&&(0,l.jsxs)("div",{className:"flex items-center space-x-4 pt-4",children:[(0,l.jsx)("button",{type:"submit",className:"px-6 py-3 bg-gradient-to-r from-purple-600 to-fuchsia-500 text-white rounded-xl hover:shadow-lg transition-all duration-200 font-medium",children:"Save Changes"}),(0,l.jsx)("button",{type:"button",onClick:()=>d(!1),className:"px-6 py-3 glass-effect border border-white/10 text-white rounded-xl hover:bg-white/10 transition-all duration-200 font-medium",children:"Cancel"})]})]})]})})]})]})}},5322:function(e,t,r){"use strict";r.d(t,{q:function(){return n},w:function(){return s}});var l=r(7437),a=r(2265);let i=(0,a.createContext)(void 0),s=e=>{let{children:t}=e,[r,s]=(0,a.useState)([]),[n,o]=(0,a.useState)([]),[d,p]=(0,a.useState)(null);return(0,a.useEffect)(()=>{let e=localStorage.getItem("user");if(e)try{let t=JSON.parse(e);p({email:t.email,role:"super_admin"===t.role?"SuperAdmin":"admin"===t.role?"Admin":"Employee"})}catch(e){console.error("Error parsing user data:",e)}let t=localStorage.getItem("hr_employees"),r=localStorage.getItem("hr_tasks");if(t)s(JSON.parse(t));else{let e=[{id:"1",name:"Ali Khan",email:"ali@example.com",department:"Engineering",position:"Software Developer",phone:"+1 234 567 8900",address:"123 Main St, City, State 12345",joinDate:"2023-01-15",role:"Employee",status:"Active"},{id:"2",name:"Sara Ahmed",email:"sara@example.com",department:"Marketing",position:"Marketing Manager",phone:"+1 234 567 8901",address:"456 Oak Ave, City, State 12345",joinDate:"2023-02-20",role:"Employee",status:"Active"},{id:"3",name:"Admin User",email:"admin@example.com",department:"Administration",position:"System Administrator",phone:"+1 234 567 8902",address:"789 Admin Blvd, City, State 12345",joinDate:"2023-01-01",role:"Admin",status:"Active"}];s(e),localStorage.setItem("hr_employees",JSON.stringify(e))}if(r)o(JSON.parse(r));else{let e=[{id:"1",title:"Complete quarterly report",status:"pending",priority:"High",dueDate:"2024-01-20",assignedTo:"ali@example.com",description:"Complete the quarterly financial report"},{id:"2",title:"Update database schema",status:"completed",priority:"Medium",dueDate:"2024-01-15",assignedTo:"ali@example.com",description:"Update the database schema for new features"},{id:"3",title:"Review code changes",status:"pending",priority:"Medium",dueDate:"2024-01-22",assignedTo:"sara@example.com",description:"Review pull requests and code changes"}];o(e),localStorage.setItem("hr_tasks",JSON.stringify(e))}},[]),(0,a.useEffect)(()=>{r.length>0&&localStorage.setItem("hr_employees",JSON.stringify(r))},[r]),(0,a.useEffect)(()=>{n.length>0&&localStorage.setItem("hr_tasks",JSON.stringify(n))},[n]),(0,l.jsx)(i.Provider,{value:{employees:r,addEmployee:e=>{let t={...e,id:Date.now().toString(),joinDate:e.joinDate||new Date().toISOString().split("T")[0]};s([...r,t])},updateEmployee:(e,t)=>{s(r.map(r=>r.id===e?{...r,...t}:r))},deleteEmployee:e=>{s(r.filter(t=>t.id!==e)),o(n.filter(t=>{var l;return t.assignedTo!==(null===(l=r.find(t=>t.id===e))||void 0===l?void 0:l.email)}))},getEmployee:e=>r.find(t=>t.id===e),tasks:n,addTask:e=>{let t={...e,id:Date.now().toString()};o([...n,t])},updateTask:(e,t)=>{o(n.map(r=>r.id===e?{...r,...t}:r))},deleteTask:e=>{o(n.filter(t=>t.id!==e))},getTasksByEmployee:e=>n.filter(t=>t.assignedTo===e),currentUser:d,login:(e,t)=>{let l=localStorage.getItem("user");if(l)try{let t=JSON.parse(l),r="super_admin"===t.role?"SuperAdmin":"admin"===t.role?"Admin":"Employee";return p({email:t.email||e,role:r}),!0}catch(e){console.error("Error parsing user data:",e)}let a=r.find(t=>t.email===e);return!!a&&(p({email:a.email,role:"Admin"===a.role?"Admin":"Employee"}),!0)},logout:()=>{localStorage.removeItem("token"),localStorage.removeItem("user"),p(null)},isAuthenticated:!!d},children:t})},n=()=>{let e=(0,a.useContext)(i);if(void 0===e)throw Error("useApp must be used within an AppProvider");return e}},622:function(e,t,r){"use strict";var l=r(2265),a=Symbol.for("react.element"),i=Symbol.for("react.fragment"),s=Object.prototype.hasOwnProperty,n=l.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,o={key:!0,ref:!0,__self:!0,__source:!0};function d(e,t,r){var l,i={},d=null,p=null;for(l in void 0!==r&&(d=""+r),void 0!==t.key&&(d=""+t.key),void 0!==t.ref&&(p=t.ref),t)s.call(t,l)&&!o.hasOwnProperty(l)&&(i[l]=t[l]);if(e&&e.defaultProps)for(l in t=e.defaultProps)void 0===i[l]&&(i[l]=t[l]);return{$$typeof:a,type:e,key:d,ref:p,props:i,_owner:n.current}}t.Fragment=i,t.jsx=d,t.jsxs=d},7437:function(e,t,r){"use strict";e.exports=r(622)},4033:function(e,t,r){e.exports=r(94)}},function(e){e.O(0,[971,472,744],function(){return e(e.s=3022)}),_N_E=e.O()}]);