(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[841],{1780:function(e,t,r){Promise.resolve().then(r.bind(r,8082))},8082:function(e,t,r){"use strict";r.r(t);var a=r(7437),l=r(2265),n=r(4033),i=r(5322);t.default=()=>{let e=(0,n.useRouter)(),t=(0,n.useSearchParams)(),r=t.get("id"),{addEmployee:s,updateEmployee:o,getEmployee:d,employees:p}=(0,i.q)(),[c,m]=(0,l.useState)(!1),[u,h]=(0,l.useState)({firstName:"",lastName:"",email:"",phone:"",role:"",department:"",location:"",startDate:""}),f=Array.from(new Set(p.map(e=>e.department).filter(Boolean))),x=Array.from(new Set(["Engineering","Marketing","Sales","HR","Finance","Operations","Product","Design","UIUX DESGINER","BOOK KEEPING","GRAPHIC Design","Web Developer","UI/UX Designer",...f])).sort();(0,l.useEffect)(()=>{if(r){let e=d(r);if(e){m(!0);let t=e.name.split(" "),r="";if(e.joinDate){let t=new Date(e.joinDate);if(!isNaN(t.getTime())){let e=String(t.getMonth()+1).padStart(2,"0"),a=String(t.getDate()).padStart(2,"0"),l=t.getFullYear();r="".concat(e,"/").concat(a,"/").concat(l)}}h({firstName:t[0]||"",lastName:t.slice(1).join(" ")||"",email:e.email,phone:e.phone||"",role:e.position||e.role,department:e.department,location:e.address||"",startDate:r})}}},[r,d]);let g=e=>{h({...u,[e.target.name]:e.target.value})},b=()=>{e.push("/addmin/empolyeepage")};return(0,a.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:(0,a.jsxs)("div",{className:"glass-effect rounded-2xl card-shadow w-full max-w-2xl relative border border-white/10",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between p-6 border-b border-white/10",children:[(0,a.jsx)("h2",{className:"text-2xl font-bold text-white",children:c?"Edit Employee":"Add New Employee"}),(0,a.jsx)("button",{onClick:b,className:"text-white/70 hover:text-white transition-colors",children:(0,a.jsx)("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),(0,a.jsxs)("form",{onSubmit:t=>{t.preventDefault();let a=u.startDate;if(u.startDate.includes("/")){let e=u.startDate.split("/");if(3===e.length){let[t,r,l]=e;a="".concat(l,"-").concat(t.padStart(2,"0"),"-").concat(r.padStart(2,"0"))}}if(c&&r)o(r,{name:"".concat(u.firstName," ").concat(u.lastName),email:u.email,phone:u.phone,role:"Employee",department:u.department,address:u.location,joinDate:a,position:u.role}),alert("Employee updated successfully!");else{let e=p.find(e=>e.email===u.email);if(e){alert("An employee with this email already exists!");return}s({name:"".concat(u.firstName," ").concat(u.lastName),email:u.email,phone:u.phone,role:"Employee",department:u.department,address:u.location,joinDate:a||new Date().toISOString().split("T")[0],position:u.role,status:"Active"}),alert("Employee added successfully!")}e.push("/addmin/empolyeepage")},className:"p-6",children:[(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,a.jsxs)("div",{children:[(0,a.jsxs)("label",{className:"block text-sm font-medium text-white mb-2",children:["First Name ",(0,a.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,a.jsx)("input",{type:"text",name:"firstName",value:u.firstName,onChange:g,required:!0,className:"w-full px-4 py-3 border border-purple-400 rounded-lg bg-transparent text-white placeholder-white/60 focus:ring-2 focus:ring-purple-500 focus:border-purple-400 transition-all duration-200 outline-none"})]}),(0,a.jsxs)("div",{children:[(0,a.jsxs)("label",{className:"block text-sm font-medium text-white mb-2",children:["Last Name ",(0,a.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,a.jsx)("input",{type:"text",name:"lastName",value:u.lastName,onChange:g,required:!0,className:"w-full px-4 py-3 border border-purple-400 rounded-lg bg-transparent text-white placeholder-white/60 focus:ring-2 focus:ring-purple-500 focus:border-purple-400 transition-all duration-200 outline-none"})]}),(0,a.jsxs)("div",{children:[(0,a.jsxs)("label",{className:"block text-sm font-medium text-white mb-2",children:["Email ",(0,a.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,a.jsx)("input",{type:"email",name:"email",value:u.email,onChange:g,required:!0,className:"w-full px-4 py-3 border border-purple-400 rounded-lg bg-transparent text-white placeholder-white/60 focus:ring-2 focus:ring-purple-500 focus:border-purple-400 transition-all duration-200 outline-none"})]}),(0,a.jsxs)("div",{children:[(0,a.jsxs)("label",{className:"block text-sm font-medium text-white mb-2",children:["Phone ",(0,a.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,a.jsx)("input",{type:"tel",name:"phone",value:u.phone,onChange:g,required:!0,className:"w-full px-4 py-3 border border-purple-400 rounded-lg bg-transparent text-white placeholder-white/60 focus:ring-2 focus:ring-purple-500 focus:border-purple-400 transition-all duration-200 outline-none"})]}),(0,a.jsxs)("div",{children:[(0,a.jsxs)("label",{className:"block text-sm font-medium text-white mb-2",children:["Role ",(0,a.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,a.jsx)("input",{type:"text",name:"role",value:u.role,onChange:g,placeholder:"Enter job role/title",required:!0,className:"w-full px-4 py-3 border border-purple-400 rounded-lg bg-transparent text-white placeholder-white/60 focus:ring-2 focus:ring-purple-500 focus:border-purple-400 transition-all duration-200 outline-none"})]}),(0,a.jsxs)("div",{children:[(0,a.jsxs)("label",{className:"block text-sm font-medium text-white mb-2",children:["Department ",(0,a.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,a.jsxs)("div",{className:"relative",children:[(0,a.jsxs)("select",{name:"department",value:u.department,onChange:g,required:!0,className:"w-full px-4 py-3 border border-purple-400 rounded-lg bg-transparent text-white focus:ring-2 focus:ring-purple-500 focus:border-purple-400 transition-all duration-200 outline-none appearance-none pr-10",children:[(0,a.jsx)("option",{value:"",className:"bg-slate-900",children:"Select Department"}),x.map(e=>(0,a.jsx)("option",{value:e,className:"bg-slate-900",children:e},e))]}),(0,a.jsx)("div",{className:"absolute inset-y-0 right-0 flex items-center pr-3 pointer-events-none",children:(0,a.jsx)("svg",{className:"w-5 h-5 text-white/70",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})})]})]}),(0,a.jsxs)("div",{children:[(0,a.jsxs)("label",{className:"block text-sm font-medium text-white mb-2",children:["Location ",(0,a.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,a.jsx)("input",{type:"text",name:"location",value:u.location,onChange:g,required:!0,className:"w-full px-4 py-3 border border-purple-400 rounded-lg bg-transparent text-white placeholder-white/60 focus:ring-2 focus:ring-purple-500 focus:border-purple-400 transition-all duration-200 outline-none"})]}),(0,a.jsxs)("div",{children:[(0,a.jsxs)("label",{className:"block text-sm font-medium text-white mb-2",children:["Start Date ",(0,a.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,a.jsx)("input",{type:"text",name:"startDate",value:u.startDate,onChange:e=>{let t=e.target.value,r=t.replace(/\D/g,"");r.length>=2&&(r=r.slice(0,2)+"/"+r.slice(2)),r.length>=5&&(r=r.slice(0,5)+"/"+r.slice(5,9)),h({...u,startDate:r})},placeholder:"mm/dd/yyyy",required:!0,maxLength:10,className:"w-full px-4 py-3 border border-purple-400 rounded-lg bg-transparent text-white placeholder-white/60 focus:ring-2 focus:ring-purple-500 focus:border-purple-400 transition-all duration-200 outline-none"})]})]}),(0,a.jsxs)("div",{className:"flex items-center justify-end space-x-4 mt-6 pt-6 border-t border-white/10",children:[(0,a.jsx)("button",{type:"button",onClick:b,className:"px-6 py-3 glass-effect border border-white/10 text-white rounded-lg hover:bg-white/10 transition-all duration-200 font-medium",children:"Cancel"}),(0,a.jsx)("button",{type:"submit",className:"px-6 py-3 bg-gradient-to-r from-purple-600 to-fuchsia-500 text-white rounded-lg hover:shadow-lg transition-all duration-200 font-medium",children:c?"Update Employee":"Add Employee"})]})]})]})})}},5322:function(e,t,r){"use strict";r.d(t,{q:function(){return s},w:function(){return i}});var a=r(7437),l=r(2265);let n=(0,l.createContext)(void 0),i=e=>{let{children:t}=e,[r,i]=(0,l.useState)([]),[s,o]=(0,l.useState)([]),[d,p]=(0,l.useState)(null);return(0,l.useEffect)(()=>{let e=localStorage.getItem("user");if(e)try{let t=JSON.parse(e);p({email:t.email,role:"super_admin"===t.role?"SuperAdmin":"admin"===t.role?"Admin":"Employee"})}catch(e){console.error("Error parsing user data:",e)}let t=localStorage.getItem("hr_employees"),r=localStorage.getItem("hr_tasks");if(t)i(JSON.parse(t));else{let e=[{id:"1",name:"Ali Khan",email:"ali@example.com",department:"Engineering",position:"Software Developer",phone:"+1 234 567 8900",address:"123 Main St, City, State 12345",joinDate:"2023-01-15",role:"Employee",status:"Active"},{id:"2",name:"Sara Ahmed",email:"sara@example.com",department:"Marketing",position:"Marketing Manager",phone:"+1 234 567 8901",address:"456 Oak Ave, City, State 12345",joinDate:"2023-02-20",role:"Employee",status:"Active"},{id:"3",name:"Admin User",email:"admin@example.com",department:"Administration",position:"System Administrator",phone:"+1 234 567 8902",address:"789 Admin Blvd, City, State 12345",joinDate:"2023-01-01",role:"Admin",status:"Active"}];i(e),localStorage.setItem("hr_employees",JSON.stringify(e))}if(r)o(JSON.parse(r));else{let e=[{id:"1",title:"Complete quarterly report",status:"pending",priority:"High",dueDate:"2024-01-20",assignedTo:"ali@example.com",description:"Complete the quarterly financial report"},{id:"2",title:"Update database schema",status:"completed",priority:"Medium",dueDate:"2024-01-15",assignedTo:"ali@example.com",description:"Update the database schema for new features"},{id:"3",title:"Review code changes",status:"pending",priority:"Medium",dueDate:"2024-01-22",assignedTo:"sara@example.com",description:"Review pull requests and code changes"}];o(e),localStorage.setItem("hr_tasks",JSON.stringify(e))}},[]),(0,l.useEffect)(()=>{r.length>0&&localStorage.setItem("hr_employees",JSON.stringify(r))},[r]),(0,l.useEffect)(()=>{s.length>0&&localStorage.setItem("hr_tasks",JSON.stringify(s))},[s]),(0,a.jsx)(n.Provider,{value:{employees:r,addEmployee:e=>{let t={...e,id:Date.now().toString(),joinDate:e.joinDate||new Date().toISOString().split("T")[0]};i([...r,t])},updateEmployee:(e,t)=>{i(r.map(r=>r.id===e?{...r,...t}:r))},deleteEmployee:e=>{i(r.filter(t=>t.id!==e)),o(s.filter(t=>{var a;return t.assignedTo!==(null===(a=r.find(t=>t.id===e))||void 0===a?void 0:a.email)}))},getEmployee:e=>r.find(t=>t.id===e),tasks:s,addTask:e=>{let t={...e,id:Date.now().toString()};o([...s,t])},updateTask:(e,t)=>{o(s.map(r=>r.id===e?{...r,...t}:r))},deleteTask:e=>{o(s.filter(t=>t.id!==e))},getTasksByEmployee:e=>s.filter(t=>t.assignedTo===e),currentUser:d,login:(e,t)=>{let a=localStorage.getItem("user");if(a)try{let t=JSON.parse(a),r="super_admin"===t.role?"SuperAdmin":"admin"===t.role?"Admin":"Employee";return p({email:t.email||e,role:r}),!0}catch(e){console.error("Error parsing user data:",e)}let l=r.find(t=>t.email===e);return!!l&&(p({email:l.email,role:"Admin"===l.role?"Admin":"Employee"}),!0)},logout:()=>{localStorage.removeItem("token"),localStorage.removeItem("user"),p(null)},isAuthenticated:!!d},children:t})},s=()=>{let e=(0,l.useContext)(n);if(void 0===e)throw Error("useApp must be used within an AppProvider");return e}},622:function(e,t,r){"use strict";var a=r(2265),l=Symbol.for("react.element"),n=Symbol.for("react.fragment"),i=Object.prototype.hasOwnProperty,s=a.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,o={key:!0,ref:!0,__self:!0,__source:!0};function d(e,t,r){var a,n={},d=null,p=null;for(a in void 0!==r&&(d=""+r),void 0!==t.key&&(d=""+t.key),void 0!==t.ref&&(p=t.ref),t)i.call(t,a)&&!o.hasOwnProperty(a)&&(n[a]=t[a]);if(e&&e.defaultProps)for(a in t=e.defaultProps)void 0===n[a]&&(n[a]=t[a]);return{$$typeof:l,type:e,key:d,ref:p,props:n,_owner:s.current}}t.Fragment=n,t.jsx=d,t.jsxs=d},7437:function(e,t,r){"use strict";e.exports=r(622)},4033:function(e,t,r){e.exports=r(94)}},function(e){e.O(0,[971,472,744],function(){return e(e.s=1780)}),_N_E=e.O()}]);