(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[82],{9166:function(e,s,r){Promise.resolve().then(r.bind(r,8766))},8766:function(e,s,r){"use strict";r.r(s);var t=r(7437),a=r(2265),l=r(4033),n=r(1396),o=r.n(n);s.default=()=>{let[e,s]=(0,a.useState)({name:"",email:"",password:"",confirmPassword:"",role:"admin"}),[r,n]=(0,a.useState)(!1),[i,d]=(0,a.useState)(""),[c,u]=(0,a.useState)(""),m=(0,l.useRouter)(),p=r=>{s({...e,[r.target.name]:r.target.value}),d("")},x=async s=>{if(s.preventDefault(),d(""),u(""),e.password!==e.confirmPassword){d("Passwords do not match");return}if(e.password.length<6){d("Password must be at least 6 characters");return}n(!0);try{let s=await fetch("".concat("/api","/auth/register"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:e.name,email:e.email,password:e.password,role:e.role})});if(!s.ok){let e="Registration failed";try{let r=await s.json();e=r.message||e}catch(r){e="Server error: ".concat(s.status," ").concat(s.statusText)}throw Error(e)}let r=await s.json();if(r.success)u("Registration successful! Redirecting to login..."),setTimeout(()=>{m.push("/auth/loginpage")},2e3);else throw Error(r.message||"Registration failed")}catch(e){e.message.includes("Failed to fetch")||e.message.includes("NetworkError")?d("Cannot connect to server. Please make sure the backend server is running on http://localhost:5000"):d(e.message||"Registration failed. Please try again."),n(!1)}};return(0,t.jsx)("div",{className:"flex items-center justify-center min-h-screen",children:(0,t.jsx)("div",{className:"w-full max-w-md mx-4",children:(0,t.jsxs)("div",{className:"glass-effect card-shadow rounded-3xl p-8",children:[(0,t.jsxs)("div",{className:"text-center mb-8",children:[(0,t.jsx)("div",{className:"w-20 h-20 bg-gradient-to-br from-purple-400 to-purple-600 rounded-2xl flex items-center justify-center text-white font-bold text-3xl mx-auto mb-4 shadow-lg",children:"HR"}),(0,t.jsx)("h2",{className:"text-3xl font-bold text-white mb-2",children:"Create Account"}),(0,t.jsx)("p",{className:"text-white/70",children:"Sign up for HR Management System"})]}),(0,t.jsxs)("form",{onSubmit:x,className:"space-y-6",children:[(0,t.jsxs)("div",{children:[(0,t.jsxs)("label",{className:"block text-sm font-medium text-white mb-2",children:["Full Name ",(0,t.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,t.jsx)("input",{type:"text",name:"name",placeholder:"Enter your full name",value:e.name,onChange:p,required:!0,className:"w-full px-4 py-3 border border-purple-400 rounded-xl bg-transparent text-white placeholder-white/60 focus:ring-2 focus:ring-purple-500 focus:border-purple-400 transition-all duration-200 outline-none"})]}),(0,t.jsxs)("div",{children:[(0,t.jsxs)("label",{className:"block text-sm font-medium text-white mb-2",children:["Email Address ",(0,t.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,t.jsx)("input",{type:"email",name:"email",placeholder:"Enter your email",value:e.email,onChange:p,required:!0,className:"w-full px-4 py-3 border border-purple-400 rounded-xl bg-transparent text-white placeholder-white/60 focus:ring-2 focus:ring-purple-500 focus:border-purple-400 transition-all duration-200 outline-none"})]}),(0,t.jsxs)("div",{children:[(0,t.jsxs)("label",{className:"block text-sm font-medium text-white mb-2",children:["Role ",(0,t.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,t.jsxs)("select",{name:"role",value:e.role,onChange:p,required:!0,className:"w-full px-4 py-3 border border-purple-400 rounded-xl bg-transparent text-white focus:ring-2 focus:ring-purple-500 focus:border-purple-400 transition-all duration-200 outline-none",children:[(0,t.jsx)("option",{value:"admin",className:"bg-slate-900",children:"Admin"}),(0,t.jsx)("option",{value:"employee",className:"bg-slate-900",children:"Employee"})]})]}),(0,t.jsxs)("div",{children:[(0,t.jsxs)("label",{className:"block text-sm font-medium text-white mb-2",children:["Password ",(0,t.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,t.jsx)("input",{type:"password",name:"password",placeholder:"Enter your password (min 6 characters)",value:e.password,onChange:p,required:!0,minLength:6,className:"w-full px-4 py-3 border border-purple-400 rounded-xl bg-transparent text-white placeholder-white/60 focus:ring-2 focus:ring-purple-500 focus:border-purple-400 transition-all duration-200 outline-none"})]}),(0,t.jsxs)("div",{children:[(0,t.jsxs)("label",{className:"block text-sm font-medium text-white mb-2",children:["Confirm Password ",(0,t.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,t.jsx)("input",{type:"password",name:"confirmPassword",placeholder:"Confirm your password",value:e.confirmPassword,onChange:p,required:!0,className:"w-full px-4 py-3 border border-purple-400 rounded-xl bg-transparent text-white placeholder-white/60 focus:ring-2 focus:ring-purple-500 focus:border-purple-400 transition-all duration-200 outline-none"})]}),i&&(0,t.jsx)("div",{className:"bg-red-500/20 border border-red-500/50 text-red-300 px-4 py-3 rounded-xl text-sm",children:i}),c&&(0,t.jsx)("div",{className:"bg-green-500/20 border border-green-500/50 text-green-300 px-4 py-3 rounded-xl text-sm",children:c}),(0,t.jsx)("button",{type:"submit",disabled:r,className:"w-full px-6 py-3 bg-gradient-to-r from-purple-600 to-purple-500 text-white rounded-xl hover:shadow-lg transition-all duration-200 font-medium disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center space-x-2",children:r?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)("svg",{className:"animate-spin h-5 w-5 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[(0,t.jsx)("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),(0,t.jsx)("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),(0,t.jsx)("span",{children:"Registering..."})]}):(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("span",{children:"\uD83D\uDCDD"}),(0,t.jsx)("span",{children:"Create Account"})]})})]}),(0,t.jsx)("div",{className:"mt-6 text-center",children:(0,t.jsxs)("p",{className:"text-sm text-white/70",children:["Already have an account?"," ",(0,t.jsx)(o(),{href:"/auth/loginpage",className:"text-purple-300 hover:text-purple-200 font-medium",children:"Sign In"})]})})]})})})}}},function(e){e.O(0,[569,971,472,744],function(){return e(e.s=9166)}),_N_E=e.O()}]);