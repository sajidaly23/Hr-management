(()=>{var e={};e.id=295,e.ids=[295],e.modules={5403:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external")},4749:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external")},399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},5528:e=>{"use strict";e.exports=require("next/dist\\client\\components\\action-async-storage.external.js")},1877:e=>{"use strict";e.exports=require("next/dist\\client\\components\\request-async-storage.external.js")},5319:e=>{"use strict";e.exports=require("next/dist\\client\\components\\static-generation-async-storage.external.js")},9025:(e,t,s)=>{"use strict";s.r(t),s.d(t,{GlobalError:()=>l.a,__next_app__:()=>h,originalPathname:()=>m,pages:()=>o,routeModule:()=>x,tree:()=>c});var r=s(7096),n=s(6132),a=s(7284),l=s.n(a),i=s(2564),d={};for(let e in i)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(d[e]=()=>i[e]);s.d(t,d);let c=["",{children:["empolyee",{children:["attendance",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(s.bind(s,5595)),"D:\\backend-1stproject\\HR-management\\front end\\src\\app\\empolyee\\attendance\\page.tsx"]}]},{}]},{}]},{layout:[()=>Promise.resolve().then(s.bind(s,9113)),"D:\\backend-1stproject\\HR-management\\front end\\src\\app\\layout.tsx"],"not-found":[()=>Promise.resolve().then(s.t.bind(s,9291,23)),"next/dist/client/components/not-found-error"]}],o=["D:\\backend-1stproject\\HR-management\\front end\\src\\app\\empolyee\\attendance\\page.tsx"],m="/empolyee/attendance/page",h={require:s,loadChunk:()=>Promise.resolve()},x=new r.AppPageRouteModule({definition:{kind:n.x.APP_PAGE,page:"/empolyee/attendance/page",pathname:"/empolyee/attendance",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:c}})},233:(e,t,s)=>{Promise.resolve().then(s.bind(s,9162))},9162:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>i});var r=s(3854),n=s(4218),a=s(3297),l=s(7854);let i=()=>{let{currentUser:e,employees:t}=(0,a.q)(),[s,i]=(0,n.useState)([]),[d,c]=(0,n.useState)({checkIn:null,checkOut:null}),[o,m]=(0,n.useState)(new Date().toISOString().slice(0,7));(0,n.useEffect)(()=>{let e=localStorage.getItem("hr_attendance");e&&i(JSON.parse(e))},[]),(0,n.useEffect)(()=>{if(e){let t=new Date().toISOString().split("T")[0],r=s.find(s=>s.employeeEmail===e.email&&s.date===t);r?c({checkIn:r.checkIn,checkOut:r.checkOut}):c({checkIn:null,checkOut:null})}},[s,e]),(0,n.useEffect)(()=>{s.length>0&&localStorage.setItem("hr_attendance",JSON.stringify(s))},[s]);let h=s.filter(t=>t.employeeEmail===e?.email&&t.date.startsWith(o)).sort((e,t)=>new Date(t.date).getTime()-new Date(e.date).getTime()),x={present:h.filter(e=>"present"===e.status).length,late:h.filter(e=>"late"===e.status).length,totalWorkingHours:h.reduce((e,t)=>e+(t.workingHours||0),0),totalDays:h.length},u=e=>"present"===e?"bg-green-500/20 text-green-300 border-green-500/50":"late"===e?"bg-orange-500/20 text-orange-300 border-orange-500/50":"bg-red-500/20 text-red-300 border-red-500/50";return r.jsx(l.Z,{allowedRoles:["employee","Employee"],children:(0,r.jsxs)("div",{className:"space-y-8",children:[(0,r.jsxs)("div",{className:"mb-8",children:[r.jsx("h1",{className:"text-4xl font-bold text-white mb-2",children:"My Attendance"}),r.jsx("p",{className:"text-white/70",children:"Track your check-in and check-out times"})]}),(0,r.jsxs)("div",{className:"glass-effect rounded-2xl p-8 card-shadow border border-white/10",children:[r.jsx("h2",{className:"text-2xl font-bold text-white mb-6",children:"Today's Attendance"}),(0,r.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,r.jsxs)("div",{className:"glass-effect rounded-xl p-6 border border-white/10",children:[(0,r.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,r.jsxs)("div",{children:[r.jsx("p",{className:"text-sm text-white/70 mb-1",children:"Check In Time"}),r.jsx("p",{className:"text-3xl font-bold text-white",children:d.checkIn||"Not checked in"})]}),r.jsx("div",{className:"w-16 h-16 bg-gradient-to-br from-green-500 to-green-600 rounded-xl flex items-center justify-center",children:r.jsx("svg",{className:"w-8 h-8 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})})})]}),r.jsx("button",{onClick:()=>{if(!e)return;let r=new Date,n=r.toLocaleTimeString("en-US",{hour:"2-digit",minute:"2-digit",hour12:!0}),a=r.toISOString().split("T")[0],l=t.find(t=>t.email===e.email);if(!l)return;let o=s.find(t=>t.employeeEmail===e.email&&t.date===a);if(o&&o.checkIn){alert("You have already checked in today!");return}let m=r.getHours(),h=r.getMinutes(),x=m>9||9===m&&h>0,u={id:o?.id||Date.now().toString(),employeeId:l.id,employeeEmail:e.email,employeeName:l.name,date:a,checkIn:n,checkOut:o?.checkOut||null,status:x?"late":"present",workingHours:null};o?i(s.map(e=>e.id===o.id?u:e)):i([...s,u]),c({checkIn:n,checkOut:d.checkOut}),alert(`Checked in at ${n}${x?" (Late)":""}`)},disabled:!!d.checkIn,className:`w-full px-6 py-3 rounded-xl font-medium transition-all duration-200 ${d.checkIn?"bg-gray-600/50 text-gray-400 cursor-not-allowed border border-gray-600/50":"bg-gradient-to-r from-green-600 to-green-500 text-white hover:shadow-lg hover:scale-105"}`,children:d.checkIn?"✓ Already Checked In":"Check In"})]}),(0,r.jsxs)("div",{className:"glass-effect rounded-xl p-6 border border-white/10",children:[(0,r.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,r.jsxs)("div",{children:[r.jsx("p",{className:"text-sm text-white/70 mb-1",children:"Check Out Time"}),r.jsx("p",{className:"text-3xl font-bold text-white",children:d.checkOut||"Not checked out"})]}),r.jsx("div",{className:"w-16 h-16 bg-gradient-to-br from-red-500 to-red-600 rounded-xl flex items-center justify-center",children:r.jsx("svg",{className:"w-8 h-8 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),r.jsx("button",{onClick:()=>{if(!e)return;let t=new Date,r=t.toLocaleTimeString("en-US",{hour:"2-digit",minute:"2-digit",hour12:!0}),n=t.toISOString().split("T")[0],a=s.find(t=>t.employeeEmail===e.email&&t.date===n);if(!a||!a.checkIn){alert("Please check in first!");return}if(a.checkOut){alert("You have already checked out today!");return}let l=new Date(`${n} ${a.checkIn}`),o=t.getTime()-l.getTime(),m=Math.round(o/36e5*10)/10,h={...a,checkOut:r,workingHours:m};i(s.map(e=>e.id===a.id?h:e)),c({checkIn:d.checkIn,checkOut:r}),alert(`Checked out at ${r}. Working hours: ${m} hours`)},disabled:!d.checkIn||!!d.checkOut,className:`w-full px-6 py-3 rounded-xl font-medium transition-all duration-200 ${!d.checkIn||d.checkOut?"bg-gray-600/50 text-gray-400 cursor-not-allowed border border-gray-600/50":"bg-gradient-to-r from-red-600 to-red-500 text-white hover:shadow-lg hover:scale-105"}`,children:d.checkOut?"✓ Already Checked Out":"Check Out"})]})]})]}),(0,r.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[r.jsx("div",{className:"glass-effect rounded-2xl p-6 card-shadow border border-white/10",children:(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsxs)("div",{children:[r.jsx("p",{className:"text-sm text-white/70 mb-1",children:"Present Days"}),r.jsx("p",{className:"text-3xl font-bold text-green-400",children:x.present})]}),r.jsx("div",{className:"w-14 h-14 bg-gradient-to-br from-green-500 to-green-600 rounded-xl flex items-center justify-center",children:r.jsx("span",{className:"text-2xl",children:"✅"})})]})}),r.jsx("div",{className:"glass-effect rounded-2xl p-6 card-shadow border border-white/10",children:(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsxs)("div",{children:[r.jsx("p",{className:"text-sm text-white/70 mb-1",children:"Late Days"}),r.jsx("p",{className:"text-3xl font-bold text-orange-400",children:x.late})]}),r.jsx("div",{className:"w-14 h-14 bg-gradient-to-br from-orange-500 to-orange-600 rounded-xl flex items-center justify-center",children:r.jsx("span",{className:"text-2xl",children:"⏰"})})]})}),r.jsx("div",{className:"glass-effect rounded-2xl p-6 card-shadow border border-white/10",children:(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsxs)("div",{children:[r.jsx("p",{className:"text-sm text-white/70 mb-1",children:"Total Hours"}),r.jsx("p",{className:"text-3xl font-bold text-purple-400",children:x.totalWorkingHours.toFixed(1)})]}),r.jsx("div",{className:"w-14 h-14 bg-gradient-to-br from-purple-500 to-purple-600 rounded-xl flex items-center justify-center",children:r.jsx("span",{className:"text-2xl",children:"⏱"})})]})}),r.jsx("div",{className:"glass-effect rounded-2xl p-6 card-shadow border border-white/10",children:(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsxs)("div",{children:[r.jsx("p",{className:"text-sm text-white/70 mb-1",children:"Total Days"}),r.jsx("p",{className:"text-3xl font-bold text-blue-400",children:x.totalDays})]}),r.jsx("div",{className:"w-14 h-14 bg-gradient-to-br from-blue-500 to-blue-600 rounded-xl flex items-center justify-center",children:r.jsx("span",{className:"text-2xl",children:"\uD83D\uDCC5"})})]})})]}),(0,r.jsxs)("div",{className:"glass-effect rounded-2xl p-6 card-shadow border border-white/10",children:[(0,r.jsxs)("div",{className:"flex flex-col md:flex-row gap-4 items-start md:items-center justify-between mb-6",children:[r.jsx("h2",{className:"text-2xl font-bold text-white",children:"Attendance History"}),(0,r.jsxs)("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-white/70 mb-2",children:"Select Month"}),r.jsx("input",{type:"month",value:o,onChange:e=>m(e.target.value),className:"px-4 py-2 border border-purple-400 rounded-xl bg-transparent text-white focus:ring-2 focus:ring-purple-500 focus:border-purple-400 transition-all duration-200 outline-none"})]})]}),r.jsx("div",{className:"overflow-x-auto",children:(0,r.jsxs)("table",{className:"w-full",children:[r.jsx("thead",{children:(0,r.jsxs)("tr",{className:"border-b border-white/10",children:[r.jsx("th",{className:"px-4 py-3 text-left text-sm font-semibold text-white",children:"Date"}),r.jsx("th",{className:"px-4 py-3 text-left text-sm font-semibold text-white",children:"Check In"}),r.jsx("th",{className:"px-4 py-3 text-left text-sm font-semibold text-white",children:"Check Out"}),r.jsx("th",{className:"px-4 py-3 text-left text-sm font-semibold text-white",children:"Working Hours"}),r.jsx("th",{className:"px-4 py-3 text-left text-sm font-semibold text-white",children:"Status"})]})}),r.jsx("tbody",{children:h.length>0?h.map((e,t)=>(0,r.jsxs)("tr",{className:`border-b border-white/10 hover:bg-white/5 transition-colors ${t%2==0?"bg-white/2":""}`,children:[r.jsx("td",{className:"px-4 py-3 text-white/90",children:new Date(e.date).toLocaleDateString("en-US",{weekday:"short",year:"numeric",month:"short",day:"numeric"})}),r.jsx("td",{className:"px-4 py-3 text-white/90",children:e.checkIn||"-"}),r.jsx("td",{className:"px-4 py-3 text-white/90",children:e.checkOut||"-"}),r.jsx("td",{className:"px-4 py-3 text-white/90",children:e.workingHours?`${e.workingHours} hrs`:"-"}),r.jsx("td",{className:"px-4 py-3",children:r.jsx("span",{className:`px-3 py-1 rounded-full text-xs font-medium border ${u(e.status)}`,children:e.status.charAt(0).toUpperCase()+e.status.slice(1)})})]},e.id)):r.jsx("tr",{children:r.jsx("td",{colSpan:5,className:"px-4 py-8 text-center text-white/70",children:"No attendance records found for the selected month"})})})]})})]})]})})}},7854:(e,t,s)=>{"use strict";s.d(t,{Z:()=>i});var r=s(3854),n=s(4218),a=s(1018),l=s(3297);let i=({children:e,allowedRoles:t})=>{let{currentUser:s,isAuthenticated:i}=(0,l.q)(),d=(0,a.useRouter)(),c=(0,a.usePathname)();if((0,n.useEffect)(()=>{if(!i){d.push("/auth/loginpage");return}if(s){let e=s.role,r="SuperAdmin"===e?"super_admin":"Admin"===e?"admin":"employee",n=t.map(e=>"SuperAdmin"===e?"super_admin":"Admin"===e?"admin":"Employee"===e?"employee":"super_admin"===e?"super_admin":"admin"===e?"admin":"employee"===e?"employee":e);n.includes(r)||("employee"===r?d.push("/empolyee/dishboard"):"admin"===r?d.push("/addmin/dishboardpage"):"super_admin"===r?d.push("/superadmin/dashboard"):d.push("/auth/loginpage"))}},[s,i,t,d,c]),!i||!s)return null;let o=s.role,m=t.map(e=>"SuperAdmin"===e?"super_admin":"Admin"===e?"admin":"Employee"===e?"employee":"super_admin"===e?"super_admin":"admin"===e?"admin":"employee"===e?"employee":e);return m.includes("SuperAdmin"===o?"super_admin":"Admin"===o?"admin":"employee")?r.jsx(r.Fragment,{children:e}):null}},5595:(e,t,s)=>{"use strict";s.r(t),s.d(t,{$$typeof:()=>l,__esModule:()=>a,default:()=>d});var r=s(5153);let n=(0,r.createProxy)(String.raw`D:\backend-1stproject\HR-management\front end\src\app\empolyee\attendance\page.tsx`),{__esModule:a,$$typeof:l}=n,i=n.default,d=i}};var t=require("../../../webpack-runtime.js");t.C(e);var s=e=>t(t.s=e),r=t.X(0,[271,20,454],()=>s(9025));module.exports=r})();