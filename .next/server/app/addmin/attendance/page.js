(()=>{var e={};e.id=325,e.ids=[325],e.modules={5403:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external")},4749:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external")},399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},5528:e=>{"use strict";e.exports=require("next/dist\\client\\components\\action-async-storage.external.js")},1877:e=>{"use strict";e.exports=require("next/dist\\client\\components\\request-async-storage.external.js")},5319:e=>{"use strict";e.exports=require("next/dist\\client\\components\\static-generation-async-storage.external.js")},8204:(e,t,s)=>{"use strict";s.r(t),s.d(t,{GlobalError:()=>l.a,__next_app__:()=>h,originalPathname:()=>x,pages:()=>o,routeModule:()=>m,tree:()=>c});var r=s(7096),n=s(6132),a=s(7284),l=s.n(a),i=s(2564),d={};for(let e in i)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(d[e]=()=>i[e]);s.d(t,d);let c=["",{children:["addmin",{children:["attendance",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(s.bind(s,2493)),"D:\\backend-1stproject\\HR-management\\front end\\src\\app\\addmin\\attendance\\page.tsx"]}]},{}]},{}]},{layout:[()=>Promise.resolve().then(s.bind(s,9113)),"D:\\backend-1stproject\\HR-management\\front end\\src\\app\\layout.tsx"],"not-found":[()=>Promise.resolve().then(s.t.bind(s,9291,23)),"next/dist/client/components/not-found-error"]}],o=["D:\\backend-1stproject\\HR-management\\front end\\src\\app\\addmin\\attendance\\page.tsx"],x="/addmin/attendance/page",h={require:s,loadChunk:()=>Promise.resolve()},m=new r.AppPageRouteModule({definition:{kind:n.x.APP_PAGE,page:"/addmin/attendance/page",pathname:"/addmin/attendance",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:c}})},3418:(e,t,s)=>{Promise.resolve().then(s.bind(s,9283))},9283:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>l});var r=s(3854),n=s(4218),a=s(3297);let l=()=>{let{currentUser:e,employees:t}=(0,a.q)(),[s,l]=(0,n.useState)([]),[i,d]=(0,n.useState)(new Date().toISOString().split("T")[0]),[c,o]=(0,n.useState)("all"),[x,h]=(0,n.useState)({checkIn:null,checkOut:null});(0,n.useEffect)(()=>{let e=localStorage.getItem("hr_attendance");e&&l(JSON.parse(e))},[]),(0,n.useEffect)(()=>{if(e){let t=new Date().toISOString().split("T")[0],r=s.find(s=>s.employeeEmail===e.email&&s.date===t);r&&h({checkIn:r.checkIn,checkOut:r.checkOut})}},[s,e]),(0,n.useEffect)(()=>{s.length>0&&localStorage.setItem("hr_attendance",JSON.stringify(s))},[s]);let m=s.filter(e=>{let t=e.date===i,s="all"===c||e.employeeEmail===c;return t&&s}),u={present:s.filter(e=>e.date===i&&"present"===e.status).length,late:s.filter(e=>e.date===i&&"late"===e.status).length,absent:t.length-s.filter(e=>e.date===i&&("present"===e.status||"late"===e.status)).length,checkedIn:s.filter(e=>e.date===i&&e.checkIn).length},p=e=>"present"===e?"bg-green-500":"late"===e?"bg-orange-500":"bg-red-500";return(0,r.jsxs)("div",{className:"space-y-6",children:[(0,r.jsxs)("div",{className:"mb-6",children:[r.jsx("h1",{className:"text-4xl font-bold text-white mb-2",children:"Attendance Management"}),r.jsx("p",{className:"text-white/70",children:"Track employee check-in and check-out"})]}),(0,r.jsxs)("div",{className:"glass-effect rounded-2xl p-6 card-shadow border border-white/10",children:[r.jsx("h2",{className:"text-2xl font-bold text-white mb-4",children:"Today's Attendance"}),(0,r.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-6",children:[(0,r.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,r.jsxs)("div",{className:"flex-1",children:[r.jsx("p",{className:"text-sm text-white/70 mb-1",children:"Check In"}),r.jsx("p",{className:"text-2xl font-bold text-white",children:x.checkIn||"Not checked in"})]}),r.jsx("button",{onClick:()=>{if(!e)return;let r=new Date,n=r.toLocaleTimeString("en-US",{hour:"2-digit",minute:"2-digit",hour12:!0}),a=r.toISOString().split("T")[0],i=t.find(t=>t.email===e.email);if(!i)return;let d=s.find(t=>t.employeeEmail===e.email&&t.date===a);if(d&&d.checkIn){alert("You have already checked in today!");return}let c=r.getHours(),o=r.getMinutes(),m=c>9||9===c&&o>0,u={id:d?.id||Date.now().toString(),employeeId:i.id,employeeEmail:e.email,employeeName:i.name,date:a,checkIn:n,checkOut:d?.checkOut||null,status:m?"late":"present",workingHours:null};d?l(s.map(e=>e.id===d.id?u:e)):l([...s,u]),h({checkIn:n,checkOut:x.checkOut}),alert(`Checked in at ${n}${m?" (Late)":""}`)},disabled:!!x.checkIn,className:`px-6 py-3 rounded-xl font-medium transition-all duration-200 ${x.checkIn?"bg-gray-600 text-gray-300 cursor-not-allowed":"bg-gradient-to-r from-green-600 to-green-500 text-white hover:shadow-lg"}`,children:x.checkIn?"Checked In":"Check In"})]}),(0,r.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,r.jsxs)("div",{className:"flex-1",children:[r.jsx("p",{className:"text-sm text-white/70 mb-1",children:"Check Out"}),r.jsx("p",{className:"text-2xl font-bold text-white",children:x.checkOut||"Not checked out"})]}),r.jsx("button",{onClick:()=>{if(!e)return;let t=new Date,r=t.toLocaleTimeString("en-US",{hour:"2-digit",minute:"2-digit",hour12:!0}),n=t.toISOString().split("T")[0],a=s.find(t=>t.employeeEmail===e.email&&t.date===n);if(!a||!a.checkIn){alert("Please check in first!");return}if(a.checkOut){alert("You have already checked out today!");return}let i=new Date(`${n} ${a.checkIn}`),d=t.getTime()-i.getTime(),c=Math.round(d/36e5*10)/10,o={...a,checkOut:r,workingHours:c};l(s.map(e=>e.id===a.id?o:e)),h({checkIn:x.checkIn,checkOut:r}),alert(`Checked out at ${r}. Working hours: ${c} hours`)},disabled:!x.checkIn||!!x.checkOut,className:`px-6 py-3 rounded-xl font-medium transition-all duration-200 ${!x.checkIn||x.checkOut?"bg-gray-600 text-gray-300 cursor-not-allowed":"bg-gradient-to-r from-red-600 to-red-500 text-white hover:shadow-lg"}`,children:x.checkOut?"Checked Out":"Check Out"})]})]})]}),(0,r.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[r.jsx("div",{className:"glass-effect rounded-2xl p-6 card-shadow border border-white/10",children:(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsxs)("div",{children:[r.jsx("p",{className:"text-sm text-white/70 mb-1",children:"Present"}),r.jsx("p",{className:"text-3xl font-bold text-green-400",children:u.present})]}),r.jsx("div",{className:"w-14 h-14 bg-gradient-to-br from-green-500 to-green-600 rounded-xl flex items-center justify-center",children:r.jsx("svg",{className:"w-7 h-7 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})})})]})}),r.jsx("div",{className:"glass-effect rounded-2xl p-6 card-shadow border border-white/10",children:(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsxs)("div",{children:[r.jsx("p",{className:"text-sm text-white/70 mb-1",children:"Late"}),r.jsx("p",{className:"text-3xl font-bold text-orange-400",children:u.late})]}),r.jsx("div",{className:"w-14 h-14 bg-gradient-to-br from-orange-500 to-orange-600 rounded-xl flex items-center justify-center",children:r.jsx("svg",{className:"w-7 h-7 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})})})]})}),r.jsx("div",{className:"glass-effect rounded-2xl p-6 card-shadow border border-white/10",children:(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsxs)("div",{children:[r.jsx("p",{className:"text-sm text-white/70 mb-1",children:"Absent"}),r.jsx("p",{className:"text-3xl font-bold text-red-400",children:u.absent})]}),r.jsx("div",{className:"w-14 h-14 bg-gradient-to-br from-red-500 to-red-600 rounded-xl flex items-center justify-center",children:r.jsx("svg",{className:"w-7 h-7 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]})}),r.jsx("div",{className:"glass-effect rounded-2xl p-6 card-shadow border border-white/10",children:(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsxs)("div",{children:[r.jsx("p",{className:"text-sm text-white/70 mb-1",children:"Checked In"}),r.jsx("p",{className:"text-3xl font-bold text-purple-400",children:u.checkedIn})]}),r.jsx("div",{className:"w-14 h-14 bg-gradient-to-br from-purple-500 to-purple-600 rounded-xl flex items-center justify-center",children:r.jsx("svg",{className:"w-7 h-7 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m5.618-4.016A11.955 11.955 0 0112 2.944a11.955 11.955 0 01-8.618 3.04A12.02 12.02 0 003 9c0 5.591 3.824 10.29 9 11.622 5.176-1.332 9-6.03 9-11.622 0-1.042-.133-2.052-.382-3.016z"})})})]})})]}),(0,r.jsxs)("div",{className:"glass-effect rounded-2xl p-6 card-shadow border border-white/10",children:[(0,r.jsxs)("div",{className:"flex flex-col md:flex-row gap-4 items-start md:items-center justify-between mb-6",children:[r.jsx("h2",{className:"text-2xl font-bold text-white",children:"Attendance Records"}),(0,r.jsxs)("div",{className:"flex flex-col md:flex-row gap-4",children:[(0,r.jsxs)("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-white/70 mb-2",children:"Date"}),r.jsx("input",{type:"date",value:i,onChange:e=>d(e.target.value),className:"px-4 py-2 border border-purple-400 rounded-xl bg-transparent text-white focus:ring-2 focus:ring-purple-500 focus:border-purple-400 transition-all duration-200 outline-none"})]}),(0,r.jsxs)("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-white/70 mb-2",children:"Employee"}),(0,r.jsxs)("select",{value:c,onChange:e=>o(e.target.value),className:"px-4 py-2 border border-purple-400 rounded-xl bg-transparent text-white focus:ring-2 focus:ring-purple-500 focus:border-purple-400 transition-all duration-200 outline-none appearance-none pr-10 min-w-[200px]",children:[r.jsx("option",{value:"all",className:"bg-slate-900",children:"All Employees"}),t.map(e=>r.jsx("option",{value:e.email,className:"bg-slate-900",children:e.name},e.id))]})]})]})]}),r.jsx("div",{className:"overflow-x-auto",children:(0,r.jsxs)("table",{className:"w-full",children:[r.jsx("thead",{children:(0,r.jsxs)("tr",{className:"border-b border-white/10",children:[r.jsx("th",{className:"px-4 py-3 text-left text-sm font-semibold text-white",children:"Employee"}),r.jsx("th",{className:"px-4 py-3 text-left text-sm font-semibold text-white",children:"Date"}),r.jsx("th",{className:"px-4 py-3 text-left text-sm font-semibold text-white",children:"Check In"}),r.jsx("th",{className:"px-4 py-3 text-left text-sm font-semibold text-white",children:"Check Out"}),r.jsx("th",{className:"px-4 py-3 text-left text-sm font-semibold text-white",children:"Working Hours"}),r.jsx("th",{className:"px-4 py-3 text-left text-sm font-semibold text-white",children:"Status"})]})}),r.jsx("tbody",{children:m.length>0?m.map((e,t)=>(0,r.jsxs)("tr",{className:`border-b border-white/10 hover:bg-white/5 transition-colors ${t%2==0?"bg-white/2":""}`,children:[r.jsx("td",{className:"px-4 py-3 text-white/90",children:e.employeeName}),r.jsx("td",{className:"px-4 py-3 text-white/90",children:new Date(e.date).toLocaleDateString()}),r.jsx("td",{className:"px-4 py-3 text-white/90",children:e.checkIn||"-"}),r.jsx("td",{className:"px-4 py-3 text-white/90",children:e.checkOut||"-"}),r.jsx("td",{className:"px-4 py-3 text-white/90",children:e.workingHours?`${e.workingHours} hrs`:"-"}),r.jsx("td",{className:"px-4 py-3",children:r.jsx("span",{className:`px-3 py-1 rounded-full text-xs font-medium text-white ${p(e.status)}`,children:e.status.charAt(0).toUpperCase()+e.status.slice(1)})})]},e.id)):r.jsx("tr",{children:r.jsx("td",{colSpan:6,className:"px-4 py-8 text-center text-white/70",children:"No attendance records found for the selected date"})})})]})})]})]})}},2493:(e,t,s)=>{"use strict";s.r(t),s.d(t,{$$typeof:()=>l,__esModule:()=>a,default:()=>d});var r=s(5153);let n=(0,r.createProxy)(String.raw`D:\backend-1stproject\HR-management\front end\src\app\addmin\attendance\page.tsx`),{__esModule:a,$$typeof:l}=n,i=n.default,d=i}};var t=require("../../../webpack-runtime.js");t.C(e);var s=e=>t(t.s=e),r=t.X(0,[271,20,454],()=>s(8204));module.exports=r})();