(()=>{var e={};e.id=924,e.ids=[924],e.modules={5403:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external")},4749:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external")},399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},5528:e=>{"use strict";e.exports=require("next/dist\\client\\components\\action-async-storage.external.js")},1877:e=>{"use strict";e.exports=require("next/dist\\client\\components\\request-async-storage.external.js")},5319:e=>{"use strict";e.exports=require("next/dist\\client\\components\\static-generation-async-storage.external.js")},499:(e,t,s)=>{"use strict";s.r(t),s.d(t,{GlobalError:()=>i.a,__next_app__:()=>h,originalPathname:()=>c,pages:()=>m,routeModule:()=>p,tree:()=>o});var a=s(7096),n=s(6132),r=s(7284),i=s.n(r),l=s(2564),d={};for(let e in l)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(d[e]=()=>l[e]);s.d(t,d);let o=["",{children:["addmin",{children:["dishboardpage",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(s.bind(s,9346)),"D:\\backend-1stproject\\HR-management\\front end\\src\\app\\addmin\\dishboardpage\\page.tsx"]}]},{}]},{}]},{layout:[()=>Promise.resolve().then(s.bind(s,9113)),"D:\\backend-1stproject\\HR-management\\front end\\src\\app\\layout.tsx"],"not-found":[()=>Promise.resolve().then(s.t.bind(s,9291,23)),"next/dist/client/components/not-found-error"]}],m=["D:\\backend-1stproject\\HR-management\\front end\\src\\app\\addmin\\dishboardpage\\page.tsx"],c="/addmin/dishboardpage/page",h={require:s,loadChunk:()=>Promise.resolve()},p=new a.AppPageRouteModule({definition:{kind:n.x.APP_PAGE,page:"/addmin/dishboardpage/page",pathname:"/addmin/dishboardpage",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:o}})},6710:(e,t,s)=>{Promise.resolve().then(s.bind(s,5559))},5559:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>l});var a=s(3854),n=s(4218),r=s(3297),i=s(7854);let l=()=>{let{employees:e,tasks:t}=(0,r.q)(),[s,l]=(0,n.useState)([]),[d,o]=(0,n.useState)([]),[m,c]=(0,n.useState)(Date.now());(0,n.useEffect)(()=>{let e=()=>{let e=localStorage.getItem("hr_attendance");e&&l(JSON.parse(e))};e();let t=setInterval(e,3e3);return()=>clearInterval(t)},[]),(0,n.useEffect)(()=>{let e=setInterval(()=>{c(Date.now())},6e4);return()=>clearInterval(e)},[]),(0,n.useEffect)(()=>{let a=()=>{let a=[];e.forEach(e=>{if(e.joinDate){let t=new Date(e.joinDate).getTime(),s=Math.floor((Date.now()-t)/864e5);s<=30&&s>=0&&a.push({id:`reg-${e.id}`,employeeName:e.name,employeeEmail:e.email,action:"registered as new employee",timestamp:t,type:"registration"})}}),t.forEach(t=>{if("completed"===t.status&&t.assignedTo){let s=e.find(e=>e.email===t.assignedTo);if(s){let e=Date.now()-6048e5*Math.random();a.push({id:`task-${t.id}`,employeeName:s.name,employeeEmail:s.email,action:`completed task assignment: ${t.title}`,timestamp:e,type:"task"})}}});let n=new Date().toISOString().split("T")[0];s.forEach(t=>{if(t.date===n&&t.checkIn){let s=e.find(e=>e.email===t.employeeEmail);if(s){let e=new Date(`${n} ${t.checkIn}`).getTime();a.push({id:`attendance-${t.id}-in`,employeeName:s.name,employeeEmail:s.email,action:"checked in for work",timestamp:e,type:"attendance"})}}});let r=a.sort((e,t)=>t.timestamp-e.timestamp).slice(0,50);o(r)};a();let n=setInterval(a,5e3);return()=>clearInterval(n)},[e,t,s]);let h=e.filter(e=>"Employee"===e.role).length,p=new Date().toISOString().split("T")[0],x=s.filter(e=>e.date===p&&e.checkIn).length,u=h>0?(x/h*100).toFixed(1):"0",f=h-x,g=h>0?(f/h*100).toFixed(1):"0",j=new Date().toISOString().slice(0,7)+"-01",w=e.filter(e=>!!e.joinDate&&e.joinDate>=j).length,b=new Date;b.setMonth(b.getMonth()-1);let v=b.toISOString().slice(0,7)+"-01",y=new Date(b.getFullYear(),b.getMonth()+1,0).toISOString().split("T")[0],N=e.filter(e=>!!e.joinDate&&e.joinDate>=v&&e.joinDate<=y).length,k=N>0?((h-N)/N*100).toFixed(1):h>0?"100":"0",_=N>0?((w-N)/N*100).toFixed(1):w>0?"100":"0",D=e=>{let t=Math.floor(Math.floor((m-e)/1e3)/60),s=Math.floor(t/60),a=Math.floor(s/24);return a>0?`${a} ${1===a?"day":"days"} ago`:s>0?`${s} ${1===s?"hour":"hours"} ago`:t>0?`${t} ${1===t?"minute":"minutes"} ago`:"Just now"},M=d.sort((e,t)=>t.timestamp-e.timestamp).slice(0,10);return a.jsx(i.Z,{allowedRoles:["admin","Admin","super_admin","SuperAdmin"],children:(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[(0,a.jsxs)("div",{className:"glass-effect rounded-2xl p-6 card-shadow border border-white/10 hover:shadow-lg transition-shadow",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[a.jsx("h3",{className:"text-sm font-medium text-white/70",children:"Total Employees"}),a.jsx("div",{className:"w-16 h-16 bg-purple-500 rounded-xl flex items-center justify-center",children:a.jsx("svg",{className:"w-8 h-8 text-white",fill:"currentColor",viewBox:"0 0 20 20",children:a.jsx("path",{d:"M9 6a3 3 0 11-6 0 3 3 0 016 0zM17 6a3 3 0 11-6 0 3 3 0 016 0zM12.93 17c.046-.327.07-.66.07-1a6.97 6.97 0 00-1.5-4.33A5 5 0 0119 16v1h-6.07zM6 11a5 5 0 015 5v1H1v-1a5 5 0 015-5z"})})})]}),a.jsx("p",{className:"text-4xl font-bold text-white mb-2",children:h}),(0,a.jsxs)("p",{className:"text-sm text-green-400 font-medium",children:["+",k,"%"]})]}),(0,a.jsxs)("div",{className:"glass-effect rounded-2xl p-6 card-shadow border border-white/10 hover:shadow-lg transition-shadow",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[a.jsx("h3",{className:"text-sm font-medium text-white/70",children:"Active Today"}),a.jsx("div",{className:"w-16 h-16 bg-green-500 rounded-xl flex items-center justify-center",children:a.jsx("svg",{className:"w-8 h-8 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})})})]}),a.jsx("p",{className:"text-4xl font-bold text-white mb-2",children:x}),(0,a.jsxs)("p",{className:"text-sm text-green-400 font-medium",children:[u,"%"]})]}),(0,a.jsxs)("div",{className:"glass-effect rounded-2xl p-6 card-shadow border border-white/10 hover:shadow-lg transition-shadow",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[a.jsx("h3",{className:"text-sm font-medium text-white/70",children:"On Leave"}),a.jsx("div",{className:"w-16 h-16 bg-orange-500 rounded-xl flex items-center justify-center",children:a.jsx("svg",{className:"w-8 h-8 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"})})})]}),a.jsx("p",{className:"text-4xl font-bold text-white mb-2",children:f}),(0,a.jsxs)("p",{className:"text-sm text-red-400 font-medium",children:[g,"%"]})]}),(0,a.jsxs)("div",{className:"glass-effect rounded-2xl p-6 card-shadow border border-white/10 hover:shadow-lg transition-shadow",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[a.jsx("h3",{className:"text-sm font-medium text-white/70",children:"New This Month"}),a.jsx("div",{className:"w-16 h-16 bg-purple-500 rounded-xl flex items-center justify-center",children:a.jsx("svg",{className:"w-8 h-8 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 7h8m0 0v8m0-8l-8 8-4-4-6 6"})})})]}),a.jsx("p",{className:"text-4xl font-bold text-white mb-2",children:w}),(0,a.jsxs)("p",{className:"text-sm text-green-400 font-medium",children:["+",_,"%"]})]})]}),(0,a.jsxs)("div",{className:"glass-effect rounded-2xl p-6 card-shadow border border-white/10",children:[a.jsx("h2",{className:"text-2xl font-bold text-white mb-6",children:"Recent Activity"}),a.jsx("div",{className:"space-y-4",children:M.length>0?M.map((e,t)=>(0,a.jsxs)("div",{className:`flex items-start space-x-3 pb-4 ${t<M.length-1?"border-b border-white/10":""}`,children:[a.jsx("div",{className:"w-2 h-2 rounded-full bg-purple-500 mt-2 flex-shrink-0"}),(0,a.jsxs)("div",{className:"flex-1",children:[(0,a.jsxs)("p",{className:"text-white/90",children:[a.jsx("span",{className:"text-purple-400 font-semibold",children:e.employeeName})," ",a.jsx("span",{className:"text-white/70",children:e.action})]}),a.jsx("p",{className:"text-xs text-white/50 mt-1",children:D(e.timestamp)})]})]},e.id)):a.jsx("p",{className:"text-white/60 text-center py-4",children:"No recent activity"})})]})]})})}},7854:(e,t,s)=>{"use strict";s.d(t,{Z:()=>l});var a=s(3854),n=s(4218),r=s(1018),i=s(3297);let l=({children:e,allowedRoles:t})=>{let{currentUser:s,isAuthenticated:l}=(0,i.q)(),d=(0,r.useRouter)(),o=(0,r.usePathname)();if((0,n.useEffect)(()=>{if(!l){d.push("/auth/loginpage");return}if(s){let e=s.role,a="SuperAdmin"===e?"super_admin":"Admin"===e?"admin":"employee",n=t.map(e=>"SuperAdmin"===e?"super_admin":"Admin"===e?"admin":"Employee"===e?"employee":"super_admin"===e?"super_admin":"admin"===e?"admin":"employee"===e?"employee":e);n.includes(a)||("employee"===a?d.push("/empolyee/dishboard"):"admin"===a?d.push("/addmin/dishboardpage"):"super_admin"===a?d.push("/superadmin/dashboard"):d.push("/auth/loginpage"))}},[s,l,t,d,o]),!l||!s)return null;let m=s.role,c=t.map(e=>"SuperAdmin"===e?"super_admin":"Admin"===e?"admin":"Employee"===e?"employee":"super_admin"===e?"super_admin":"admin"===e?"admin":"employee"===e?"employee":e);return c.includes("SuperAdmin"===m?"super_admin":"Admin"===m?"admin":"employee")?a.jsx(a.Fragment,{children:e}):null}},9346:(e,t,s)=>{"use strict";s.r(t),s.d(t,{$$typeof:()=>i,__esModule:()=>r,default:()=>d});var a=s(5153);let n=(0,a.createProxy)(String.raw`D:\backend-1stproject\HR-management\front end\src\app\addmin\dishboardpage\page.tsx`),{__esModule:r,$$typeof:i}=n,l=n.default,d=l}};var t=require("../../../webpack-runtime.js");t.C(e);var s=e=>t(t.s=e),a=t.X(0,[271,20,454],()=>s(499));module.exports=a})();